(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41222,e=>{"use strict";let t;var n,r,a,i,o,s,l,c,u=e.i(43476),d=e.i(71645),f=e.i(20755);function h(e){let[t,n]=(0,d.useState)([]),[r,a]=(0,d.useState)(!0),[i,o]=(0,d.useState)(null),s=(0,f.createClient)(),l=(0,d.useCallback)(async()=>{a(!0);try{let{data:t,error:r}=await s.from("messages").select(`
          *,
          profiles:user_id (id, username, full_name, avatar_url, status)
        `).eq("room_id",e).eq("is_deleted",!1).order("created_at",{ascending:!0}).limit(100);if(r)throw r;n(t||[])}catch(e){o(e instanceof Error?e.message:"Xatolik yuz berdi")}finally{a(!1)}},[e,s]);return(0,d.useEffect)(()=>{l();let t=s.channel(`room-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`room_id=eq.${e}`},async e=>{let{data:t}=await s.from("profiles").select("id, username, full_name, avatar_url, status").eq("id",e.new.user_id).single(),r={...e.new,profiles:t};n(e=>[...e,r])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`room_id=eq.${e}`},e=>{n(t=>t.map(t=>t.id===e.new.id?{...t,...e.new}:t))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages",filter:`room_id=eq.${e}`},e=>{n(t=>t.filter(t=>t.id!==e.old.id))}).subscribe();return()=>{s.removeChannel(t)}},[e,s,l]),{messages:t,loading:r,error:i,sendMessage:async(t,n="text",r,a,i)=>{let{data:{user:o}}=await s.auth.getUser();if(!o)throw Error("Foydalanuvchi topilmadi");let{error:l}=await s.from("messages").insert({room_id:e,user_id:o.id,content:t,message_type:n,file_url:r,file_name:a,file_size:i});if(l)throw l},editMessage:async(e,t)=>{let{error:n}=await s.from("messages").update({content:t,is_edited:!0}).eq("id",e);if(n)throw n},deleteMessage:async e=>{let{error:t}=await s.from("messages").update({is_deleted:!0}).eq("id",e);if(t)throw t},refetch:l}}function m(){let[e,t]=(0,d.useState)([]),[n,r]=(0,d.useState)(!0),[a,i]=(0,d.useState)(null),o=(0,f.createClient)(),s=(0,d.useCallback)(async()=>{r(!0);try{let{data:{user:e}}=await o.auth.getUser();if(!e)throw Error("Foydalanuvchi topilmadi");let{data:n}=await o.from("room_members").select("room_id").eq("user_id",e.id),r=n?.map(e=>e.room_id)||[],{data:a,error:i}=await o.from("chat_rooms").select("*").or(`is_private.eq.false,id.in.(${r.join(",")})`).order("updated_at",{ascending:!1});if(i)throw i;t(a||[])}catch(e){i(e instanceof Error?e.message:"Xatolik yuz berdi")}finally{r(!1)}},[o]);return(0,d.useEffect)(()=>{s()},[s]),{rooms:e,loading:n,error:a,createRoom:async(e,t,n=!1)=>{let{data:{user:r}}=await o.auth.getUser();if(!r)throw Error("Foydalanuvchi topilmadi");let{data:a,error:i}=await o.from("chat_rooms").insert({name:e,description:t,is_private:n,created_by:r.id}).select().single();if(i)throw i;return await o.from("room_members").insert({room_id:a.id,user_id:r.id,role:"admin"}),await s(),a},joinRoom:async e=>{let{data:{user:t}}=await o.auth.getUser();if(!t)throw Error("Foydalanuvchi topilmadi");let{error:n}=await o.from("room_members").insert({room_id:e,user_id:t.id,role:"member"});if(n&&!n.message.includes("duplicate"))throw n;await s()},leaveRoom:async e=>{let{data:{user:t}}=await o.auth.getUser();if(!t)throw Error("Foydalanuvchi topilmadi");let{error:n}=await o.from("room_members").delete().eq("room_id",e).eq("user_id",t.id);if(n)throw n;await s()},refetch:s}}function p(){let[e,t]=(0,d.useState)(null),[n,r]=(0,d.useState)(!0),a=(0,f.createClient)();(0,d.useEffect)(()=>{(async()=>{let{data:{user:e}}=await a.auth.getUser();if(!e)return r(!1);let{data:n}=await a.from("profiles").select("*").eq("id",e.id).single();t(n),r(!1)})()},[a]);let i=async e=>{let{data:{user:n}}=await a.auth.getUser();if(!n)throw Error("Foydalanuvchi topilmadi");let{data:r,error:i}=await a.from("profiles").update(e).eq("id",n.id).select().single();if(i)throw i;return t(r),r},o=async e=>i({status:e,last_seen:new Date().toISOString()});return{profile:e,loading:n,updateProfile:i,updateStatus:o}}function g(e){let[t,n]=(0,d.useState)([]),r=(0,f.createClient)();return(0,d.useEffect)(()=>{let t=r.channel(`typing-${e}`);return t.on("presence",{event:"sync"},()=>{n(Object.values(t.presenceState()).flat().filter(e=>e.typing).map(e=>e.username))}).subscribe(),()=>{r.removeChannel(t)}},[e,r]),{typingUsers:t,setTyping:async(t,n)=>{let a=r.channel(`typing-${e}`);await a.track({typing:t,username:n})}}}var v=e.i(67881),y=e.i(23750),x=e.i(48425),w=e.i(20783),b=e.i(34620),j=e=>{var t;let n,r,{present:a,children:i}=e,o=function(e){var t,n;let[r,a]=d.useState(),i=d.useRef({}),o=d.useRef(e),s=d.useRef("none"),[l,c]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},d.useReducer((e,t)=>n[e][t]??e,t));return d.useEffect(()=>{let e=k(i.current);s.current="mounted"===l?e:"none"},[l]),(0,b.useLayoutEffect)(()=>{let t=i.current,n=o.current;if(n!==e){let r=s.current,a=k(t);e?c("MOUNT"):"none"===a||t?.display==="none"?c("UNMOUNT"):n&&r!==a?c("ANIMATION_OUT"):c("UNMOUNT"),o.current=e}},[e,c]),(0,b.useLayoutEffect)(()=>{if(r){let e,t=r.ownerDocument.defaultView??window,n=n=>{let a=k(i.current).includes(n.animationName);if(n.target===r&&a&&(c("ANIMATION_END"),!o.current)){let n=r.style.animationFillMode;r.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=n)})}},a=e=>{e.target===r&&(s.current=k(i.current))};return r.addEventListener("animationstart",a),r.addEventListener("animationcancel",n),r.addEventListener("animationend",n),()=>{t.clearTimeout(e),r.removeEventListener("animationstart",a),r.removeEventListener("animationcancel",n),r.removeEventListener("animationend",n)}}c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(e=>{e&&(i.current=getComputedStyle(e)),a(e)},[])}}(a),s="function"==typeof i?i({present:o.isPresent}):d.Children.only(i),l=(0,w.useComposedRefs)(o.ref,(t=s,(r=(n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof i||o.isPresent?d.cloneElement(s,{ref:l}):null};function k(e){return e?.animationName||"none"}j.displayName="Presence";var E=e.i(30030),C=e.i(30207),N=d.createContext(void 0);function S(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}var R="ScrollArea",[P,M]=(0,E.createContextScope)(R),[T,D]=P(R),L=d.forwardRef((e,t)=>{let n,{__scopeScrollArea:r,type:a="hover",dir:i,scrollHideDelay:o=600,...s}=e,[l,c]=d.useState(null),[f,h]=d.useState(null),[m,p]=d.useState(null),[g,v]=d.useState(null),[y,b]=d.useState(null),[j,k]=d.useState(0),[E,C]=d.useState(0),[S,R]=d.useState(!1),[P,M]=d.useState(!1),D=(0,w.useComposedRefs)(t,e=>c(e)),L=(n=d.useContext(N),i||n||"ltr");return(0,u.jsx)(T,{scope:r,type:a,dir:L,scrollHideDelay:o,scrollArea:l,viewport:f,onViewportChange:h,content:m,onContentChange:p,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:R,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:P,onScrollbarYEnabledChange:M,onCornerWidthChange:k,onCornerHeightChange:C,children:(0,u.jsx)(x.Primitive.div,{dir:L,...s,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});L.displayName=R;var _="ScrollAreaViewport",A=d.forwardRef((e,t)=>{let{__scopeScrollArea:n,children:r,nonce:a,...i}=e,o=D(_,n),s=d.useRef(null),l=(0,w.useComposedRefs)(t,s,o.onViewportChange);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,u.jsx)(x.Primitive.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,u.jsx)("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});A.displayName=_;var O="ScrollAreaScrollbar",W=d.forwardRef((e,t)=>{let{forceMount:n,...r}=e,a=D(O,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,s="horizontal"===e.orientation;return d.useEffect(()=>(s?i(!0):o(!0),()=>{s?i(!1):o(!1)}),[s,i,o]),"hover"===a.type?(0,u.jsx)(F,{...r,ref:t,forceMount:n}):"scroll"===a.type?(0,u.jsx)(z,{...r,ref:t,forceMount:n}):"auto"===a.type?(0,u.jsx)(I,{...r,ref:t,forceMount:n}):"always"===a.type?(0,u.jsx)(H,{...r,ref:t}):null});W.displayName=O;var F=d.forwardRef((e,t)=>{let{forceMount:n,...r}=e,a=D(O,e.__scopeScrollArea),[i,o]=d.useState(!1);return d.useEffect(()=>{let e=a.scrollArea,t=0;if(e){let n=()=>{window.clearTimeout(t),o(!0)},r=()=>{t=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",n),e.addEventListener("pointerleave",r),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",n),e.removeEventListener("pointerleave",r)}}},[a.scrollArea,a.scrollHideDelay]),(0,u.jsx)(j,{present:n||i,children:(0,u.jsx)(I,{"data-state":i?"visible":"hidden",...r,ref:t})})}),z=d.forwardRef((e,t)=>{var n;let{forceMount:r,...a}=e,i=D(O,e.__scopeScrollArea),o="horizontal"===e.orientation,s=ei(()=>c("SCROLL_END"),100),[l,c]=(n={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},d.useReducer((e,t)=>n[e][t]??e,"hidden"));return d.useEffect(()=>{if("idle"===l){let e=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[l,i.scrollHideDelay,c]),d.useEffect(()=>{let e=i.viewport,t=o?"scrollLeft":"scrollTop";if(e){let n=e[t],r=()=>{let r=e[t];n!==r&&(c("SCROLL"),s()),n=r};return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[i.viewport,o,c,s]),(0,u.jsx)(j,{present:r||"hidden"!==l,children:(0,u.jsx)(H,{"data-state":"hidden"===l?"hidden":"visible",...a,ref:t,onPointerEnter:S(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:S(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),I=d.forwardRef((e,t)=>{let n=D(O,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,o]=d.useState(!1),s="horizontal"===e.orientation,l=ei(()=>{if(n.viewport){let e=n.viewport.offsetWidth<n.viewport.scrollWidth,t=n.viewport.offsetHeight<n.viewport.scrollHeight;o(s?e:t)}},10);return eo(n.viewport,l),eo(n.content,l),(0,u.jsx)(j,{present:r||i,children:(0,u.jsx)(H,{"data-state":i?"visible":"hidden",...a,ref:t})})}),H=d.forwardRef((e,t)=>{let{orientation:n="vertical",...r}=e,a=D(O,e.__scopeScrollArea),i=d.useRef(null),o=d.useRef(0),[s,l]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=ee(s.viewport,s.content),f={...r,sizes:s,onSizesChange:l,hasThumb:!!(c>0&&c<1),onThumbChange:e=>i.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function h(e,t){return function(e,t,n,r="ltr"){let a=et(n),i=t||a/2,o=n.scrollbar.paddingStart+i,s=n.scrollbar.size-n.scrollbar.paddingEnd-(a-i),l=n.content-n.viewport;return er([o,s],"ltr"===r?[0,l]:[-1*l,0])(e)}(e,o.current,s,t)}return"horizontal"===n?(0,u.jsx)(q,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){let e=en(a.viewport.scrollLeft,s,a.dir);i.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=h(e,a.dir))}}):"vertical"===n?(0,u.jsx)(Y,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){let e=en(a.viewport.scrollTop,s);i.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=h(e))}}):null}),q=d.forwardRef((e,t)=>{let{sizes:n,onSizesChange:r,...a}=e,i=D(O,e.__scopeScrollArea),[o,s]=d.useState(),l=d.useRef(null),c=(0,w.useComposedRefs)(t,l,i.onScrollbarXChange);return d.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),(0,u.jsx)($,{"data-orientation":"horizontal",...a,ref:c,sizes:n,style:{bottom:0,left:"rtl"===i.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===i.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":et(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,n)=>{if(i.viewport){var r,a;let o=i.viewport.scrollLeft+t.deltaX;e.onWheelScroll(o),r=o,a=n,r>0&&r<a&&t.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Z(o.paddingLeft),paddingEnd:Z(o.paddingRight)}})}})}),Y=d.forwardRef((e,t)=>{let{sizes:n,onSizesChange:r,...a}=e,i=D(O,e.__scopeScrollArea),[o,s]=d.useState(),l=d.useRef(null),c=(0,w.useComposedRefs)(t,l,i.onScrollbarYChange);return d.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),(0,u.jsx)($,{"data-orientation":"vertical",...a,ref:c,sizes:n,style:{top:0,right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":et(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,n)=>{if(i.viewport){var r,a;let o=i.viewport.scrollTop+t.deltaY;e.onWheelScroll(o),r=o,a=n,r>0&&r<a&&t.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Z(o.paddingTop),paddingEnd:Z(o.paddingBottom)}})}})}),[B,X]=P(O),$=d.forwardRef((e,t)=>{let{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:f,onResize:h,...m}=e,p=D(O,n),[g,v]=d.useState(null),y=(0,w.useComposedRefs)(t,e=>v(e)),b=d.useRef(null),j=d.useRef(""),k=p.viewport,E=r.content-r.viewport,N=(0,C.useCallbackRef)(f),R=(0,C.useCallbackRef)(l),P=ei(h,10);function M(e){b.current&&c({x:e.clientX-b.current.left,y:e.clientY-b.current.top})}return d.useEffect(()=>{let e=e=>{let t=e.target;g?.contains(t)&&N(e,E)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[k,g,E,N]),d.useEffect(R,[r,R]),eo(g,P),eo(p.content,P),(0,u.jsx)(B,{scope:n,scrollbar:g,hasThumb:a,onThumbChange:(0,C.useCallbackRef)(i),onThumbPointerUp:(0,C.useCallbackRef)(o),onThumbPositionChange:R,onThumbPointerDown:(0,C.useCallbackRef)(s),children:(0,u.jsx)(x.Primitive.div,{...m,ref:y,style:{position:"absolute",...m.style},onPointerDown:S(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),b.current=g.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),M(e))}),onPointerMove:S(e.onPointerMove,M),onPointerUp:S(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=j.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),U="ScrollAreaThumb",V=d.forwardRef((e,t)=>{let{forceMount:n,...r}=e,a=X(U,e.__scopeScrollArea);return(0,u.jsx)(j,{present:n||a.hasThumb,children:(0,u.jsx)(K,{ref:t,...r})})}),K=d.forwardRef((e,t)=>{let{__scopeScrollArea:n,style:r,...a}=e,i=D(U,n),o=X(U,n),{onThumbPositionChange:s}=o,l=(0,w.useComposedRefs)(t,e=>o.onThumbChange(e)),c=d.useRef(void 0),f=ei(()=>{c.current&&(c.current(),c.current=void 0)},100);return d.useEffect(()=>{let e=i.viewport;if(e){let t=()=>{f(),c.current||(c.current=ea(e,s),s())};return s(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[i.viewport,f,s]),(0,u.jsx)(x.Primitive.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:S(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;o.onThumbPointerDown({x:n,y:r})}),onPointerUp:S(e.onPointerUp,o.onThumbPointerUp)})});V.displayName=U;var Q="ScrollAreaCorner",G=d.forwardRef((e,t)=>{let n=D(Q,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return"scroll"!==n.type&&r?(0,u.jsx)(J,{...e,ref:t}):null});G.displayName=Q;var J=d.forwardRef((e,t)=>{let{__scopeScrollArea:n,...r}=e,a=D(Q,n),[i,o]=d.useState(0),[s,l]=d.useState(0),c=!!(i&&s);return eo(a.scrollbarX,()=>{let e=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(e),l(e)}),eo(a.scrollbarY,()=>{let e=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(e),o(e)}),c?(0,u.jsx)(x.Primitive.div,{...r,ref:t,style:{width:i,height:s,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0,...e.style}}):null});function Z(e){return e?parseInt(e,10):0}function ee(e,t){let n=e/t;return isNaN(n)?0:n}function et(e){let t=ee(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-n)*t,18)}function en(e,t,n="ltr"){let r=et(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,s=function(e,[t,n]){return Math.min(n,Math.max(t,e))}(e,"ltr"===n?[0,o]:[-1*o,0]);return er([0,o],[0,i-r])(s)}function er(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}var ea=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return!function a(){let i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,s=n.top!==i.top;(o||s)&&t(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function ei(e,t){let n=(0,C.useCallbackRef)(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function eo(e,t){let n=(0,C.useCallbackRef)(t);(0,b.useLayoutEffect)(()=>{let t=0;if(e){let r=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}},[e,n])}var es=e.i(47163);function el({className:e,children:t,...n}){return(0,u.jsxs)(L,{"data-slot":"scroll-area",className:(0,es.cn)("relative",e),...n,children:[(0,u.jsx)(A,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),(0,u.jsx)(ec,{}),(0,u.jsx)(G,{})]})}function ec({className:e,orientation:t="vertical",...n}){return(0,u.jsx)(W,{"data-slot":"scroll-area-scrollbar",orientation:t,className:(0,es.cn)("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:(0,u.jsx)(V,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var eu=e.i(63270),ed=d["useId".toString()]||(()=>void 0),ef=0;function eh(e){let[t,n]=d.useState(ed());return(0,b.useLayoutEffect)(()=>{e||n(e=>e??String(ef++))},[e]),e||(t?`radix-${t}`:"")}function em({prop:e,defaultProp:t,onChange:n=()=>{}}){let[r,a]=function({defaultProp:e,onChange:t}){let n=d.useState(e),[r]=n,a=d.useRef(r),i=(0,C.useCallbackRef)(t);return d.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}({defaultProp:t,onChange:n}),i=void 0!==e,o=i?e:r,s=(0,C.useCallbackRef)(n);return[o,d.useCallback(t=>{if(i){let n="function"==typeof t?t(e):t;n!==e&&s(n)}else a(t)},[i,e,a,s])]}var ep="dismissableLayer.update",eg=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ev=d.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:s,...c}=e,f=d.useContext(eg),[h,m]=d.useState(null),p=h?.ownerDocument??globalThis?.document,[,g]=d.useState({}),v=(0,w.useComposedRefs)(t,e=>m(e)),y=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=y.indexOf(b),k=h?y.indexOf(h):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,N=k>=j,R=function(e,t=globalThis?.document){let n=(0,C.useCallbackRef)(e),r=d.useRef(!1),a=d.useRef(()=>{});return d.useEffect(()=>{let e=e=>{if(e.target&&!r.current){let r=function(){ex("dismissableLayer.pointerDownOutside",n,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=r,t.addEventListener("click",a.current,{once:!0})):r()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{let t=e.target,n=[...f.branches].some(e=>e.contains(t));N&&!n&&(a?.(e),o?.(e),e.defaultPrevented||s?.())},p),P=function(e,t=globalThis?.document){let n=(0,C.useCallbackRef)(e),r=d.useRef(!1);return d.useEffect(()=>{let e=e=>{e.target&&!r.current&&ex("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{let t=e.target;![...f.branches].some(e=>e.contains(t))&&(i?.(e),o?.(e),e.defaultPrevented||s?.())},p);return!function(e,t=globalThis?.document){let n=(0,C.useCallbackRef)(e);d.useEffect(()=>{let e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{k===f.layers.size-1&&(r?.(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))},p),d.useEffect(()=>{if(h)return n&&(0===f.layersWithOutsidePointerEventsDisabled.size&&(l=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),ey(),()=>{n&&1===f.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=l)}},[h,p,n,f]),d.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),ey())},[h,f]),d.useEffect(()=>{let e=()=>g({});return document.addEventListener(ep,e),()=>document.removeEventListener(ep,e)},[]),(0,u.jsx)(x.Primitive.div,{...c,ref:v,style:{pointerEvents:E?N?"auto":"none":void 0,...e.style},onFocusCapture:S(e.onFocusCapture,P.onFocusCapture),onBlurCapture:S(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:S(e.onPointerDownCapture,R.onPointerDownCapture)})});function ey(){let e=new CustomEvent(ep);document.dispatchEvent(e)}function ex(e,t,n,{discrete:r}){let a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?(0,x.dispatchDiscreteCustomEvent)(a,i):a.dispatchEvent(i)}ev.displayName="DismissableLayer",d.forwardRef((e,t)=>{let n=d.useContext(eg),r=d.useRef(null),a=(0,w.useComposedRefs)(t,r);return d.useEffect(()=>{let e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,u.jsx)(x.Primitive.div,{...e,ref:a})}).displayName="DismissableLayerBranch";var ew="focusScope.autoFocusOnMount",eb="focusScope.autoFocusOnUnmount",ej={bubbles:!1,cancelable:!0},ek=d.forwardRef((e,t)=>{let{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[s,l]=d.useState(null),c=(0,C.useCallbackRef)(a),f=(0,C.useCallbackRef)(i),h=d.useRef(null),m=(0,w.useComposedRefs)(t,e=>l(e)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let e=function(e){if(p.paused||!s)return;let t=e.target;s.contains(t)?h.current=t:eN(h.current,{select:!0})},t=function(e){if(p.paused||!s)return;let t=e.relatedTarget;null!==t&&(s.contains(t)||eN(h.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&eN(s)});return s&&n.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[r,s,p.paused]),d.useEffect(()=>{if(s){eS.add(p);let e=document.activeElement;if(!s.contains(e)){let t=new CustomEvent(ew,ej);s.addEventListener(ew,c),s.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let n=document.activeElement;for(let r of e)if(eN(r,{select:t}),document.activeElement!==n)return}(eE(s).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&eN(s))}return()=>{s.removeEventListener(ew,c),setTimeout(()=>{let t=new CustomEvent(eb,ej);s.addEventListener(eb,f),s.dispatchEvent(t),t.defaultPrevented||eN(e??document.body,{select:!0}),s.removeEventListener(eb,f),eS.remove(p)},0)}}},[s,c,f,p]);let g=d.useCallback(e=>{if(!n&&!r||p.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,a=document.activeElement;if(t&&a){var i;let t,r=e.currentTarget,[o,s]=[eC(t=eE(i=r),i),eC(t.reverse(),i)];o&&s?e.shiftKey||a!==s?e.shiftKey&&a===o&&(e.preventDefault(),n&&eN(s,{select:!0})):(e.preventDefault(),n&&eN(o,{select:!0})):a===r&&e.preventDefault()}},[n,r,p.paused]);return(0,u.jsx)(x.Primitive.div,{tabIndex:-1,...o,ref:m,onKeyDown:g})});function eE(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function eC(e,t){for(let n of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}function eN(e,{select:t=!1}={}){if(e&&e.focus){var n;let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&(n=e)instanceof HTMLInputElement&&"select"in n&&t&&e.select()}}ek.displayName="FocusScope";var eS=(t=[],{add(e){let n=t[0];e!==n&&n?.pause(),(t=eR(t,e)).unshift(e)},remove(e){t=eR(t,e),t[0]?.resume()}});function eR(e,t){let n=[...e],r=n.indexOf(t);return -1!==r&&n.splice(r,1),n}var eP=e.i(74080),eM=d.forwardRef((e,t)=>{let{container:n,...r}=e,[a,i]=d.useState(!1);(0,b.useLayoutEffect)(()=>i(!0),[]);let o=n||a&&globalThis?.document?.body;return o?eP.default.createPortal((0,u.jsx)(x.Primitive.div,{...r,ref:t}),o):null});eM.displayName="Portal";var eT=0;function eD(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var eL=e.i(90571),e_="right-scroll-bar-position",eA="width-before-scroll-bar";function eO(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var eW="undefined"!=typeof window?d.useLayoutEffect:d.useEffect,eF=new WeakMap,ez=(void 0===n&&(n={}),(void 0===r&&(r=function(e){return e}),a=[],i=!1,o={read:function(){if(i)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:null},useMedium:function(e){var t=r(e,i);return a.push(t),function(){a=a.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(i=!0;a.length;){var t=a;a=[],t.forEach(e)}a={push:function(t){return e(t)},filter:function(){return a}}},assignMedium:function(e){i=!0;var t=[];if(a.length){var n=a;a=[],n.forEach(e),t=a}var r=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(r)};o(),a={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),a}}}}).options=(0,eL.__assign)({async:!0,ssr:!1},n),o),eI=function(){},eH=d.forwardRef(function(e,t){var n,r,a,i,o=d.useRef(null),s=d.useState({onScrollCapture:eI,onWheelCapture:eI,onTouchMoveCapture:eI}),l=s[0],c=s[1],u=e.forwardProps,f=e.children,h=e.className,m=e.removeScrollBar,p=e.enabled,g=e.shards,v=e.sideCar,y=e.noRelative,x=e.noIsolation,w=e.inert,b=e.allowPinchZoom,j=e.as,k=e.gapMode,E=(0,eL.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=(n=[o,t],r=function(e){return n.forEach(function(t){return eO(t,e)})},(a=(0,d.useState)(function(){return{value:null,callback:r,facade:{get current(){return a.value},set current(value){var e=a.value;e!==value&&(a.value=value,a.callback(value,e))}}}})[0]).callback=r,i=a.facade,eW(function(){var e=eF.get(i);if(e){var t=new Set(e),r=new Set(n),a=i.current;t.forEach(function(e){r.has(e)||eO(e,null)}),r.forEach(function(e){t.has(e)||eO(e,a)})}eF.set(i,n)},[n]),i),N=(0,eL.__assign)((0,eL.__assign)({},E),l);return d.createElement(d.Fragment,null,p&&d.createElement(v,{sideCar:ez,removeScrollBar:m,shards:g,noRelative:y,noIsolation:x,inert:w,setCallbacks:c,allowPinchZoom:!!b,lockRef:o,gapMode:k}),u?d.cloneElement(d.Children.only(f),(0,eL.__assign)((0,eL.__assign)({},N),{ref:C})):d.createElement(void 0===j?"div":j,(0,eL.__assign)({},N,{className:h,ref:C}),f))});eH.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},eH.classNames={fullWidth:eA,zeroRight:e_};var eq=function(e){var t=e.sideCar,n=(0,eL.__rest)(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw Error("Sidecar medium not found");return d.createElement(r,(0,eL.__assign)({},n))};eq.isSideCarExport=!0;var eY=function(){var e=0,t=null;return{add:function(n){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=c||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var r,a;(r=t).styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n)),a=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(a)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},eB=function(){var e=eY();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},eX=function(){var e=eB();return function(t){return e(t.styles,t.dynamic),null}},e$={left:0,top:0,right:0,gap:0},eU=function(e){return parseInt(e||"",10)||0},eV=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[eU(n),eU(r),eU(a)]},eK=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return e$;var t=eV(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},eQ=eX(),eG="data-scroll-locked",eJ=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(eG,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(e_," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(eA," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(e_," .").concat(e_," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(eA," .").concat(eA," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(eG,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},eZ=function(){var e=parseInt(document.body.getAttribute(eG)||"0",10);return isFinite(e)?e:0},e0=function(){d.useEffect(function(){return document.body.setAttribute(eG,(eZ()+1).toString()),function(){var e=eZ()-1;e<=0?document.body.removeAttribute(eG):document.body.setAttribute(eG,e.toString())}},[])},e1=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=void 0===r?"margin":r;e0();var i=d.useMemo(function(){return eK(a)},[a]);return d.createElement(eQ,{styles:eJ(i,!t,a,n?"":"!important")})},e2=!1;if("undefined"!=typeof window)try{var e4=Object.defineProperty({},"passive",{get:function(){return e2=!0,!0}});window.addEventListener("test",e4,e4),window.removeEventListener("test",e4,e4)}catch(e){e2=!1}var e5=!!e2&&{passive:!1},e3=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&(n.overflowY!==n.overflowX||"TEXTAREA"===e.tagName||"visible"!==n[t])},e8=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),e6(e,r)){var a=e7(e,r);if(a[1]>a[2])return!0}r=r.parentNode}while(r&&r!==n.body)return!1},e6=function(e,t){return"v"===e?e3(t,"overflowY"):e3(t,"overflowX")},e7=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},e9=function(e,t,n,r,a){var i,o=(i=window.getComputedStyle(t).direction,"h"===e&&"rtl"===i?-1:1),s=o*r,l=n.target,c=t.contains(l),u=!1,d=s>0,f=0,h=0;do{if(!l)break;var m=e7(e,l),p=m[0],g=m[1]-m[2]-o*p;(p||g)&&e6(e,l)&&(f+=g,h+=p);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l))return d&&(a&&1>Math.abs(f)||!a&&s>f)?u=!0:!d&&(a&&1>Math.abs(h)||!a&&-s>h)&&(u=!0),u},te=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tt=function(e){return[e.deltaX,e.deltaY]},tn=function(e){return e&&"current"in e?e.current:e},tr=0,ta=[];let ti=(s=function(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),a=d.useState(tr++)[0],i=d.useState(eX)[0],o=d.useRef(e);d.useEffect(function(){o.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=(0,eL.__spreadArray)([e.lockRef.current],(e.shards||[]).map(tn),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var s=d.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var a,i=te(e),s=n.current,l="deltaX"in e?e.deltaX:s[0]-i[0],c="deltaY"in e?e.deltaY:s[1]-i[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var f=window.getSelection(),h=f&&f.anchorNode;if(h&&(h===u||h.contains(u)))return!1;var m=e8(d,u);if(!m)return!0;if(m?a=d:(a="v"===d?"h":"v",m=e8(d,u)),!m)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=a),!a)return!0;var p=r.current||a;return e9(p,t,e,"h"===p?l:c,!0)},[]),l=d.useCallback(function(e){if(ta.length&&ta[ta.length-1]===i){var n="deltaY"in e?tt(e):te(e),r=t.current.filter(function(t){var r;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(r=t.delta,r[0]===n[0]&&r[1]===n[1])})[0];if(r&&r.should){e.cancelable&&e.preventDefault();return}if(!r){var a=(o.current.shards||[]).map(tn).filter(Boolean).filter(function(t){return t.contains(e.target)});(a.length>0?s(e,a[0]):!o.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=d.useCallback(function(e,n,r,a){var i={name:e,delta:n,target:r,should:a,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(r)};t.current.push(i),setTimeout(function(){t.current=t.current.filter(function(e){return e!==i})},1)},[]),u=d.useCallback(function(e){n.current=te(e),r.current=void 0},[]),f=d.useCallback(function(t){c(t.type,tt(t),t.target,s(t,e.lockRef.current))},[]),h=d.useCallback(function(t){c(t.type,te(t),t.target,s(t,e.lockRef.current))},[]);d.useEffect(function(){return ta.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,e5),document.addEventListener("touchmove",l,e5),document.addEventListener("touchstart",u,e5),function(){ta=ta.filter(function(e){return e!==i}),document.removeEventListener("wheel",l,e5),document.removeEventListener("touchmove",l,e5),document.removeEventListener("touchstart",u,e5)}},[]);var m=e.removeScrollBar,p=e.inert;return d.createElement(d.Fragment,null,p?d.createElement(i,{styles:"\n  .block-interactivity-".concat(a," {pointer-events: none;}\n  .allow-interactivity-").concat(a," {pointer-events: all;}\n")}):null,m?d.createElement(e1,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},ez.useMedium(s),eq);var to=d.forwardRef(function(e,t){return d.createElement(eH,(0,eL.__assign)({},e,{ref:t,sideCar:ti}))});to.classNames=eH.classNames;var ts=new WeakMap,tl=new WeakMap,tc={},tu=0,td=function(e){return e&&(e.host||td(e.parentNode))},tf=function(e,t,n,r){var a=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var n=td(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});tc[n]||(tc[n]=new WeakMap);var i=tc[n],o=[],s=new Set,l=new Set(a),c=function(e){!e||s.has(e)||(s.add(e),c(e.parentNode))};a.forEach(c);var u=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),a=null!==t&&"false"!==t,l=(ts.get(e)||0)+1,c=(i.get(e)||0)+1;ts.set(e,l),i.set(e,c),o.push(e),1===l&&a&&tl.set(e,!0),1===c&&e.setAttribute(n,"true"),a||e.setAttribute(r,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return u(t),s.clear(),tu++,function(){o.forEach(function(e){var t=ts.get(e)-1,a=i.get(e)-1;ts.set(e,t),i.set(e,a),t||(tl.has(e)||e.removeAttribute(r),tl.delete(e)),a||e.removeAttribute(n)}),--tu||(ts=new WeakMap,ts=new WeakMap,tl=new WeakMap,tc={})}},th=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),tf(r,a,n,"aria-hidden")):function(){return null}},tm=e.i(91918),tp="Dialog",[tg,tv]=(0,E.createContextScope)(tp),[ty,tx]=tg(tp),tw=e=>{let{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,s=d.useRef(null),l=d.useRef(null),[c=!1,f]=em({prop:r,defaultProp:a,onChange:i});return(0,u.jsx)(ty,{scope:t,triggerRef:s,contentRef:l,contentId:eh(),titleId:eh(),descriptionId:eh(),open:c,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(e=>!e),[f]),modal:o,children:n})};tw.displayName=tp;var tb="DialogTrigger",tj=d.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=tx(tb,n),i=(0,w.useComposedRefs)(t,a.triggerRef);return(0,u.jsx)(x.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":tI(a.open),...r,ref:i,onClick:S(e.onClick,a.onOpenToggle)})});tj.displayName=tb;var tk="DialogPortal",[tE,tC]=tg(tk,{forceMount:void 0}),tN=e=>{let{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=tx(tk,t);return(0,u.jsx)(tE,{scope:t,forceMount:n,children:d.Children.map(r,e=>(0,u.jsx)(j,{present:n||i.open,children:(0,u.jsx)(eM,{asChild:!0,container:a,children:e})}))})};tN.displayName=tk;var tS="DialogOverlay",tR=d.forwardRef((e,t)=>{let n=tC(tS,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=tx(tS,e.__scopeDialog);return i.modal?(0,u.jsx)(j,{present:r||i.open,children:(0,u.jsx)(tP,{...a,ref:t})}):null});tR.displayName=tS;var tP=d.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=tx(tS,n);return(0,u.jsx)(to,{as:tm.Slot,allowPinchZoom:!0,shards:[a.contentRef],children:(0,u.jsx)(x.Primitive.div,{"data-state":tI(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),tM="DialogContent",tT=d.forwardRef((e,t)=>{let n=tC(tM,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=tx(tM,e.__scopeDialog);return(0,u.jsx)(j,{present:r||i.open,children:i.modal?(0,u.jsx)(tD,{...a,ref:t}):(0,u.jsx)(tL,{...a,ref:t})})});tT.displayName=tM;var tD=d.forwardRef((e,t)=>{let n=tx(tM,e.__scopeDialog),r=d.useRef(null),a=(0,w.useComposedRefs)(t,n.contentRef,r);return d.useEffect(()=>{let e=r.current;if(e)return th(e)},[]),(0,u.jsx)(t_,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:S(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:S(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:S(e.onFocusOutside,e=>e.preventDefault())})}),tL=d.forwardRef((e,t)=>{let n=tx(tM,e.__scopeDialog),r=d.useRef(!1),a=d.useRef(!1);return(0,u.jsx)(t_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));let i=t.target;n.triggerRef.current?.contains(i)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),t_=d.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,s=tx(tM,n),l=d.useRef(null),c=(0,w.useComposedRefs)(t,l);return d.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??eD()),document.body.insertAdjacentElement("beforeend",e[1]??eD()),eT++,()=>{1===eT&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),eT--}},[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ek,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:(0,u.jsx)(ev,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":tI(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tB,{titleId:s.titleId}),(0,u.jsx)(tX,{contentRef:l,descriptionId:s.descriptionId})]})]})}),tA="DialogTitle",tO=d.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=tx(tA,n);return(0,u.jsx)(x.Primitive.h2,{id:a.titleId,...r,ref:t})});tO.displayName=tA;var tW="DialogDescription";d.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=tx(tW,n);return(0,u.jsx)(x.Primitive.p,{id:a.descriptionId,...r,ref:t})}).displayName=tW;var tF="DialogClose",tz=d.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=tx(tF,n);return(0,u.jsx)(x.Primitive.button,{type:"button",...r,ref:t,onClick:S(e.onClick,()=>a.onOpenChange(!1))})});function tI(e){return e?"open":"closed"}tz.displayName=tF;var tH="DialogTitleWarning",[tq,tY]=(0,E.createContext)(tH,{contentName:tM,titleName:tA,docsSlug:"dialog"}),tB=({titleId:e})=>{let t=tY(tH),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},tX=({contentRef:e,descriptionId:t})=>{let n=tY("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n.contentName}}.`;return d.useEffect(()=>{let n=e.current?.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},t$=e.i(41947),t$=t$;function tU({...e}){return(0,u.jsx)(tw,{"data-slot":"dialog",...e})}function tV({...e}){return(0,u.jsx)(tj,{"data-slot":"dialog-trigger",...e})}function tK({...e}){return(0,u.jsx)(tN,{"data-slot":"dialog-portal",...e})}function tQ({className:e,...t}){return(0,u.jsx)(tR,{"data-slot":"dialog-overlay",className:(0,es.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function tG({className:e,children:t,showCloseButton:n=!0,...r}){return(0,u.jsxs)(tK,{"data-slot":"dialog-portal",children:[(0,u.jsx)(tQ,{}),(0,u.jsxs)(tT,{"data-slot":"dialog-content",className:(0,es.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,n&&(0,u.jsxs)(tz,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,u.jsx)(t$.default,{}),(0,u.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function tJ({className:e,...t}){return(0,u.jsx)("div",{"data-slot":"dialog-header",className:(0,es.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function tZ({className:e,...t}){return(0,u.jsx)(tO,{"data-slot":"dialog-title",className:(0,es.cn)("text-lg leading-none font-semibold",e),...t})}var t0=e.i(10708);function t1(e){let[t,n]=d.useState(void 0);return(0,b.useLayoutEffect)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,a;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,a=t.blockSize}else r=e.offsetWidth,a=e.offsetHeight;n({width:r,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}var t2="Switch",[t4,t5]=(0,E.createContextScope)(t2),[t3,t8]=t4(t2),t6=d.forwardRef((e,t)=>{let{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:s,value:l="on",onCheckedChange:c,form:f,...h}=e,[m,p]=d.useState(null),g=(0,w.useComposedRefs)(t,e=>p(e)),v=d.useRef(!1),y=!m||f||!!m.closest("form"),[b=!1,j]=em({prop:a,defaultProp:i,onChange:c});return(0,u.jsxs)(t3,{scope:n,checked:b,disabled:s,children:[(0,u.jsx)(x.Primitive.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":nt(b),"data-disabled":s?"":void 0,disabled:s,value:l,...h,ref:g,onClick:S(e.onClick,e=>{j(e=>!e),y&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),y&&(0,u.jsx)(ne,{control:m,bubbles:!v.current,name:r,value:l,checked:b,required:o,disabled:s,form:f,style:{transform:"translateX(-100%)"}})]})});t6.displayName=t2;var t7="SwitchThumb",t9=d.forwardRef((e,t)=>{let{__scopeSwitch:n,...r}=e,a=t8(t7,n);return(0,u.jsx)(x.Primitive.span,{"data-state":nt(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});t9.displayName=t7;var ne=e=>{let t,{control:n,checked:r,bubbles:a=!0,...i}=e,o=d.useRef(null),s=(t=d.useRef({value:r,previous:r}),d.useMemo(()=>(t.current.value!==r&&(t.current.previous=t.current.value,t.current.value=r),t.current.previous),[r])),l=t1(n);return d.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(s!==r&&t){let n=new Event("click",{bubbles:a});t.call(e,r),e.dispatchEvent(n)}},[s,r,a]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function nt(e){return e?"checked":"unchecked"}function nn({className:e,...t}){return(0,u.jsx)(t6,{"data-slot":"switch",className:(0,es.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,u.jsx)(t9,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}function nr({className:e,...t}){return(0,u.jsx)("div",{"data-slot":"skeleton",className:(0,es.cn)("bg-accent animate-pulse rounded-md",e),...t})}var na=e.i(75254);let ni=(0,na.default)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),no=(0,na.default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ns=(0,na.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var nl=e.i(92270),nc=e.i(39616),nu=e.i(18566);function nd({selectedRoom:e,onSelectRoom:t}){let{rooms:n,loading:r,createRoom:a}=m(),{profile:i}=p(),[o,s]=(0,d.useState)(""),[l,c]=(0,d.useState)(""),[h,g]=(0,d.useState)(!1),[x,w]=(0,d.useState)(!1),[b,j]=(0,d.useState)(!1),k=(0,nu.useRouter)(),E=(0,f.createClient)(),C=async()=>{if(o.trim()){j(!0);try{let e=await a(o,l,h);s(""),c(""),g(!1),w(!1),t(e.id)}catch(e){console.error("Xona yaratishda xatolik:",e)}finally{j(!1)}}},N=async()=>{await E.auth.signOut(),k.push("/auth/login")};return(0,u.jsxs)("div",{className:"w-64 bg-gray-900 text-white flex flex-col h-full",children:[(0,u.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,u.jsx)("h1",{className:"text-xl font-bold",children:" Chat"})}),(0,u.jsx)(el,{className:"flex-1 px-2",children:(0,u.jsxs)("div",{className:"py-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between px-2 mb-2",children:[(0,u.jsx)("span",{className:"text-xs uppercase text-gray-400 font-semibold",children:"Xonalar"}),(0,u.jsxs)(tU,{open:x,onOpenChange:w,children:[(0,u.jsx)(tV,{asChild:!0,children:(0,u.jsx)(v.Button,{variant:"ghost",size:"icon",className:"h-5 w-5",children:(0,u.jsx)(ns,{className:"h-4 w-4"})})}),(0,u.jsxs)(tG,{className:"sm:max-w-md",children:[(0,u.jsx)(tJ,{children:(0,u.jsx)(tZ,{children:"Yangi xona yaratish"})}),(0,u.jsxs)("div",{className:"space-y-4 py-4",children:[(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)(t0.Label,{htmlFor:"room-name",children:"Xona nomi"}),(0,u.jsx)(y.Input,{id:"room-name",placeholder:"umumiy-suhbat",value:o,onChange:e=>s(e.target.value)})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)(t0.Label,{htmlFor:"room-description",children:"Tavsif (ixtiyoriy)"}),(0,u.jsx)(y.Input,{id:"room-description",placeholder:"Bu xona haqida...",value:l,onChange:e=>c(e.target.value)})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)(t0.Label,{htmlFor:"is-private",children:"Maxfiy xona"}),(0,u.jsx)(nn,{id:"is-private",checked:h,onCheckedChange:g})]}),(0,u.jsx)(v.Button,{onClick:C,disabled:!o.trim()||b,className:"w-full",children:b?"Yaratilmoqda...":"Xona yaratish"})]})]})]})]}),r?(0,u.jsx)("div",{className:"space-y-2",children:[1,2,3].map(e=>(0,u.jsx)(nr,{className:"h-8 w-full bg-gray-700"},e))}):(0,u.jsx)("div",{className:"space-y-1",children:n.map(n=>(0,u.jsxs)("button",{onClick:()=>t(n.id),className:`w-full flex items-center gap-2 px-2 py-1.5 rounded-md text-sm transition-colors ${e===n.id?"bg-gray-700 text-white":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"}`,children:[n.is_private?(0,u.jsx)(no,{className:"h-4 w-4 shrink-0"}):(0,u.jsx)(ni,{className:"h-4 w-4 shrink-0"}),(0,u.jsx)("span",{className:"truncate",children:n.name})]},n.id))})]})}),(0,u.jsx)("div",{className:"p-3 border-t border-gray-700 bg-gray-800",children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsxs)(eu.Avatar,{className:"h-8 w-8",children:[(0,u.jsx)(eu.AvatarImage,{src:i?.avatar_url||""}),(0,u.jsx)(eu.AvatarFallback,{className:"bg-indigo-600",children:i?.username?.charAt(0).toUpperCase()||"U"})]}),(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsx)("p",{className:"text-sm font-medium truncate",children:i?.full_name||i?.username||"Foydalanuvchi"}),(0,u.jsxs)("p",{className:"text-xs text-gray-400 truncate",children:["@",i?.username||"user"]})]}),(0,u.jsxs)("div",{className:"flex gap-1",children:[(0,u.jsx)(v.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-400 hover:text-white",onClick:()=>k.push("/profile"),children:(0,u.jsx)(nc.Settings,{className:"h-4 w-4"})}),(0,u.jsx)(v.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-400 hover:text-red-400",onClick:N,children:(0,u.jsx)(nl.LogOut,{className:"h-4 w-4"})})]})]})})]})}let nf={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function nh(e){return (t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}let nm={date:nh({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:nh({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:nh({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},np={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ng(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{let t=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function nv(e){return(t,n={})=>{let r,a=n.width,i=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;let s=o[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}(l,e=>e.test(s)):function(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}(l,e=>e.test(s));return r=e.valueCallback?e.valueCallback(c):c,{value:r=n.valueCallback?n.valueCallback(r):r,rest:t.slice(s.length)}}}function ny(e){return(t,n={})=>{let r=t.match(e.matchPattern);if(!r)return null;let a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];return{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(a.length)}}}let nx={code:"en-US",formatDistance:(e,t,n)=>{let r,a=nf[e];if(r="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),n?.addSuffix)if(n.comparison&&n.comparison>0)return"in "+r;else return r+" ago";return r},formatLong:nm,formatRelative:(e,t,n,r)=>np[e],localize:{ordinalNumber:(e,t)=>{let n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:ng({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ng({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:ng({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ng({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ng({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:ny({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:nv({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:nv({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:nv({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:nv({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:nv({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},nw={},nb=Symbol.for("constructDateFrom");function nj(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&nb in e?e[nb](t):e instanceof Date?new e.constructor(t):new Date(t)}function nk(e,t){return nj(t||e,e)}function nE(e){let t=nk(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-n}function nC(e,...t){let n=nj.bind(null,e||t.find(e=>"object"==typeof e));return t.map(n)}function nN(e,t){let n=nk(e,t?.in);return n.setHours(0,0,0,0),n}function nS(e,t){let n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??nw.weekStartsOn??nw.locale?.options?.weekStartsOn??0,r=nk(e,t?.in),a=r.getDay();return r.setDate(r.getDate()-(7*(a<n)+a-n)),r.setHours(0,0,0,0),r}function nR(e,t){return nS(e,{...t,weekStartsOn:1})}function nP(e,t){let n=nk(e,t?.in),r=n.getFullYear(),a=nj(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);let i=nR(a),o=nj(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);let s=nR(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function nM(e,t){let n=nk(e,t?.in),r=n.getFullYear(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??nw.firstWeekContainsDate??nw.locale?.options?.firstWeekContainsDate??1,i=nj(t?.in||e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);let o=nS(i,t),s=nj(t?.in||e,0);s.setFullYear(r,0,a),s.setHours(0,0,0,0);let l=nS(s,t);return+n>=+o?r+1:+n>=+l?r:r-1}function nT(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}let nD={y(e,t){let n=e.getFullYear(),r=n>0?n:1-n;return nT("yy"===t?r%100:r,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):nT(n+1,2)},d:(e,t)=>nT(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>nT(e.getHours()%12||12,t.length),H:(e,t)=>nT(e.getHours(),t.length),m:(e,t)=>nT(e.getMinutes(),t.length),s:(e,t)=>nT(e.getSeconds(),t.length),S(e,t){let n=t.length;return nT(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},nL={G:function(e,t,n){let r=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return nD.y(e,t)},Y:function(e,t,n,r){let a=nM(e,r),i=a>0?a:1-a;return"YY"===t?nT(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):nT(i,t.length)},R:function(e,t){return nT(nP(e),t.length)},u:function(e,t){return nT(e.getFullYear(),t.length)},Q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return nT(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return nT(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){let r=e.getMonth();switch(t){case"M":case"MM":return nD.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){let r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return nT(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){let a,i,o,s,l=Math.round((nS(a=nk(e,r?.in),r)-(i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??nw.firstWeekContainsDate??nw.locale?.options?.firstWeekContainsDate??1,o=nM(a,r),(s=nj(r?.in||a,0)).setFullYear(o,0,i),s.setHours(0,0,0,0),nS(s,r)))/6048e5)+1;return"wo"===t?n.ordinalNumber(l,{unit:"week"}):nT(l,t.length)},I:function(e,t,n){let r,a,i,o=Math.round((nR(r=nk(e,void 0))-(a=nP(r,void 0),(i=nj(r,0)).setFullYear(a,0,4),i.setHours(0,0,0,0),nR(i)))/6048e5)+1;return"Io"===t?n.ordinalNumber(o,{unit:"week"}):nT(o,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):nD.d(e,t)},D:function(e,t,n){let r,a,i=function(e,t,n){let[r,a]=nC(void 0,e,t),i=nN(r),o=nN(a);return Math.round((i-nE(i)-(o-nE(o)))/864e5)}(r=nk(e,void 0),((a=nk(r,void 0)).setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a))+1;return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):nT(i,t.length)},E:function(e,t,n){let r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){let a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return nT(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){let a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return nT(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){let r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return nT(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){let r,a=e.getHours();switch(r=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){let r,a=e.getHours();switch(r=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return nD.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):nD.H(e,t)},K:function(e,t,n){let r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):nT(r,t.length)},k:function(e,t,n){let r=e.getHours();return(0===r&&(r=24),"ko"===t)?n.ordinalNumber(r,{unit:"hour"}):nT(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):nD.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):nD.s(e,t)},S:function(e,t){return nD.S(e,t)},X:function(e,t,n){let r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return nA(r);case"XXXX":case"XX":return nO(r);default:return nO(r,":")}},x:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"x":return nA(r);case"xxxx":case"xx":return nO(r);default:return nO(r,":")}},O:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+n_(r,":");default:return"GMT"+nO(r,":")}},z:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+n_(r,":");default:return"GMT"+nO(r,":")}},t:function(e,t,n){return nT(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return nT(+e,t.length)}};function n_(e,t=""){let n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return 0===i?n+String(a):n+String(a)+t+nT(i,2)}function nA(e,t){return e%60==0?(e>0?"-":"+")+nT(Math.abs(e)/60,2):nO(e,t)}function nO(e,t=""){let n=Math.abs(e);return(e>0?"-":"+")+nT(Math.trunc(n/60),2)+t+nT(n%60,2)}let nW=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},nF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},nz={p:nF,P:(e,t)=>{let n,r=e.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return nW(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",nW(a,t)).replace("{{time}}",nF(i,t))}},nI=/^D+$/,nH=/^Y+$/,nq=["D","DD","YY","YYYY"],nY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nX=/^'([^]*?)'?$/,n$=/''/g,nU=/[a-zA-Z]/;function nV(e,t,n){let r=n?.locale??nw.locale??nx,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??nw.firstWeekContainsDate??nw.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??nw.weekStartsOn??nw.locale?.options?.weekStartsOn??0,o=nk(e,n?.in);if(!(o instanceof Date||"object"==typeof o&&"[object Date]"===Object.prototype.toString.call(o))&&"number"!=typeof o||isNaN(+nk(o)))throw RangeError("Invalid time value");let s=t.match(nB).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,nz[t])(e,r.formatLong):e}).join("").match(nY).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var n;let t;return{isToken:!1,value:(t=(n=e).match(nX))?t[1].replace(n$,"'"):n}}if(nL[t])return{isToken:!0,value:e};if(t.match(nU))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});r.localize.preprocessor&&(s=r.localize.preprocessor(o,s));let l={firstWeekContainsDate:a,weekStartsOn:i,locale:r};return s.map(a=>{if(!a.isToken)return a.value;let i=a.value;return(!n?.useAdditionalWeekYearTokens&&nH.test(i)||!n?.useAdditionalDayOfYearTokens&&nI.test(i))&&function(e,t,n){var r,a,i;let o,s=(r=e,a=t,i=n,o="Y"===r[0]?"years":"days of the month",`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${a}\`) for formatting ${o} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(s),nq.includes(e))throw RangeError(s)}(i,t,String(e)),(0,nL[i[0]])(o,i,r.localize,l)}).join("")}function nK(e){return nj(e,Date.now())}function nQ(e,t,n){let[r,a]=nC(n?.in,e,t);return+nN(r)==+nN(a)}let nG={lessThanXSeconds:{one:"sekunddan kam",other:"{{count}} sekunddan kam"},xSeconds:{one:"1 sekund",other:"{{count}} sekund"},halfAMinute:"yarim minut",lessThanXMinutes:{one:"bir minutdan kam",other:"{{count}} minutdan kam"},xMinutes:{one:"1 minut",other:"{{count}} minut"},aboutXHours:{one:"tahminan 1 soat",other:"tahminan {{count}} soat"},xHours:{one:"1 soat",other:"{{count}} soat"},xDays:{one:"1 kun",other:"{{count}} kun"},aboutXWeeks:{one:"tahminan 1 hafta",other:"tahminan {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"tahminan 1 oy",other:"tahminan {{count}} oy"},xMonths:{one:"1 oy",other:"{{count}} oy"},aboutXYears:{one:"tahminan 1 yil",other:"tahminan {{count}} yil"},xYears:{one:"1 yil",other:"{{count}} yil"},overXYears:{one:"1 yildan ko'p",other:"{{count}} yildan ko'p"},almostXYears:{one:"deyarli 1 yil",other:"deyarli {{count}} yil"}},nJ={date:nh({formats:{full:"EEEE, do MMMM, y",long:"do MMMM, y",medium:"d MMM, y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:nh({formats:{full:"h:mm:ss zzzz",long:"h:mm:ss z",medium:"h:mm:ss",short:"h:mm"},defaultWidth:"full"}),dateTime:nh({formats:{any:"{{date}}, {{time}}"},defaultWidth:"any"})},nZ={lastWeek:"'oldingi' eeee p 'da'",yesterday:"'kecha' p 'da'",today:"'bugun' p 'da'",tomorrow:"'ertaga' p 'da'",nextWeek:"eeee p 'da'",other:"P"},n0={code:"uz",formatDistance:(e,t,n)=>{let r,a=nG[e];if(r="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",String(t)),n?.addSuffix)if(n.comparison&&n.comparison>0)return r+" dan keyin";else return r+" oldin";return r},formatLong:nJ,formatRelative:(e,t,n,r)=>nZ[e],localize:{ordinalNumber:(e,t)=>String(e),era:ng({values:{narrow:["M.A","M."],abbreviated:["M.A","M."],wide:["Miloddan Avvalgi","Milodiy"]},defaultWidth:"wide"}),quarter:ng({values:{narrow:["1","2","3","4"],abbreviated:["CH.1","CH.2","CH.3","CH.4"],wide:["1-chi chorak","2-chi chorak","3-chi chorak","4-chi chorak"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:ng({values:{narrow:["Y","F","M","A","M","I","I","A","S","O","N","D"],abbreviated:["Yan","Fev","Mar","Apr","May","Iyun","Iyul","Avg","Sen","Okt","Noy","Dek"],wide:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"]},defaultWidth:"wide"}),day:ng({values:{narrow:["Y","D","S","CH","P","J","SH"],short:["Ya","Du","Se","Cho","Pa","Ju","Sha"],abbreviated:["Yak","Dush","Sesh","Chor","Pay","Jum","Shan"],wide:["Yakshanba","Dushanba","Seshanba","Chorshanba","Payshanba","Juma","Shanba"]},defaultWidth:"wide"}),dayPeriod:ng({values:{narrow:{am:"a",pm:"p",midnight:"y.t",noon:"p.",morning:"ertalab",afternoon:"tushdan keyin",evening:"kechqurun",night:"tun"},abbreviated:{am:"AM",pm:"PM",midnight:"yarim tun",noon:"peshin",morning:"ertalab",afternoon:"tushdan keyin",evening:"kechqurun",night:"tun"},wide:{am:"a.m.",pm:"p.m.",midnight:"yarim tun",noon:"peshin",morning:"ertalab",afternoon:"tushdan keyin",evening:"kechqurun",night:"tun"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"y.t",noon:"p.",morning:"ertalab",afternoon:"tushdan keyin",evening:"kechqurun",night:"tun"},abbreviated:{am:"AM",pm:"PM",midnight:"yarim tun",noon:"peshin",morning:"ertalab",afternoon:"tushdan keyin",evening:"kechqurun",night:"tun"},wide:{am:"a.m.",pm:"p.m.",midnight:"yarim tun",noon:"peshin",morning:"ertalab",afternoon:"tushdan keyin",evening:"kechqurun",night:"tun"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:ny({matchPattern:/^(\d+)(chi)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:nv({matchPatterns:{narrow:/^(m\.a|m\.)/i,abbreviated:/^(m\.a\.?\s?m\.?)/i,wide:/^(miloddan avval|miloddan keyin)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:nv({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](chi)? chorak/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:nv({matchPatterns:{narrow:/^[yfmasond]/i,abbreviated:/^(yan|fev|mar|apr|may|iyun|iyul|avg|sen|okt|noy|dek)/i,wide:/^(yanvar|fevral|mart|aprel|may|iyun|iyul|avgust|sentabr|oktabr|noyabr|dekabr)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^y/i,/^f/i,/^m/i,/^a/i,/^m/i,/^i/i,/^i/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ya/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^iyun/i,/^iyul/i,/^av/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:nv({matchPatterns:{narrow:/^[ydschj]/i,short:/^(ya|du|se|cho|pa|ju|sha)/i,abbreviated:/^(yak|dush|sesh|chor|pay|jum|shan)/i,wide:/^(yakshanba|dushanba|seshanba|chorshanba|payshanba|juma|shanba)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^y/i,/^d/i,/^s/i,/^ch/i,/^p/i,/^j/i,/^sh/i],any:[/^ya/i,/^d/i,/^se/i,/^ch/i,/^p/i,/^j/i,/^sh/i]},defaultParseWidth:"any"}),dayPeriod:nv({matchPatterns:{narrow:/^(a|p|y\.t|p| (ertalab|tushdan keyin|kechqurun|tun))/i,any:/^([ap]\.?\s?m\.?|yarim tun|peshin| (ertalab|tushdan keyin|kechqurun|tun))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^y\.t/i,noon:/^pe/i,morning:/ertalab/i,afternoon:/tushdan keyin/i,evening:/kechqurun/i,night:/tun/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}},n1=(0,na.default)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);function n2({message:e,isOwn:t,showAvatar:n}){let r=e.profiles,a=()=>"image"===e.message_type&&e.file_url?(0,u.jsxs)("div",{className:"max-w-sm",children:[(0,u.jsx)("img",{src:e.file_url,alt:e.file_name||"Rasm",className:"rounded-lg max-w-full h-auto",loading:"lazy"}),e.content&&(0,u.jsx)("p",{className:"mt-2 text-sm",children:e.content})]}):"file"===e.message_type&&e.file_url?(0,u.jsxs)("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[(0,u.jsx)(n1,{className:"h-8 w-8 text-blue-500"}),(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("p",{className:"text-sm font-medium truncate",children:e.file_name||"Fayl"}),e.file_size&&(0,u.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.file_size/1024).toFixed(1)," KB"]})]})]}):"system"===e.message_type?(0,u.jsx)("div",{className:"text-center text-sm text-gray-500 italic py-2",children:e.content}):(0,u.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.content});return"system"===e.message_type?a():(0,u.jsxs)("div",{className:`flex gap-3 ${t?"flex-row-reverse":""} ${n?"mt-4":"mt-1"}`,children:[n?(0,u.jsxs)(eu.Avatar,{className:"h-8 w-8 shrink-0",children:[(0,u.jsx)(eu.AvatarImage,{src:r?.avatar_url||""}),(0,u.jsx)(eu.AvatarFallback,{className:t?"bg-indigo-600":"bg-gray-600",children:r?.username?.charAt(0).toUpperCase()||"U"})]}):(0,u.jsx)("div",{className:"w-8 shrink-0"}),(0,u.jsxs)("div",{className:`max-w-[70%] ${t?"items-end":"items-start"}`,children:[n&&(0,u.jsxs)("div",{className:`flex items-center gap-2 mb-1 ${t?"flex-row-reverse":""}`,children:[(0,u.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r?.full_name||r?.username||"Foydalanuvchi"}),(0,u.jsx)("span",{className:"text-xs text-gray-500",children:nV(new Date(e.created_at),"HH:mm")})]}),(0,u.jsxs)("div",{className:`rounded-2xl px-4 py-2 ${t?"bg-indigo-600 text-white rounded-tr-sm":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-tl-sm"}`,children:[a(),e.is_edited&&(0,u.jsx)("span",{className:"text-xs opacity-60 ml-2",children:"(tahrirlangan)"})]})]})]})}function n4({roomId:e,currentUserId:t}){let{messages:n,loading:r}=h(e),a=(0,d.useRef)(null),i=(0,d.useRef)(null);if((0,d.useEffect)(()=>{i.current?.scrollIntoView({behavior:"smooth"})},[n]),r)return(0,u.jsx)("div",{className:"flex-1 p-4 space-y-4",children:[1,2,3,4,5].map(e=>(0,u.jsxs)("div",{className:"flex gap-3",children:[(0,u.jsx)(nr,{className:"h-8 w-8 rounded-full"}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)(nr,{className:"h-4 w-24"}),(0,u.jsx)(nr,{className:"h-12 w-64"})]})]},e))});if(0===n.length)return(0,u.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("p",{className:"text-lg font-medium",children:"Xabarlar yo'q"}),(0,u.jsx)("p",{className:"text-sm",children:"Birinchi bo'lib xabar yozing!"})]})});let o="",s="";return(0,u.jsx)(el,{className:"flex-1 px-4",ref:a,children:(0,u.jsxs)("div",{className:"py-4 space-y-1",children:[n.map((e,n)=>{let r=nV(new Date(e.created_at),"yyyy-MM-dd"),a=r!==o,i=a||e.user_id!==s;return o=r,s=e.user_id,(0,u.jsxs)("div",{children:[a&&(0,u.jsx)("div",{className:"flex items-center justify-center my-6",children:(0,u.jsx)("div",{className:"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs px-3 py-1 rounded-full",children:(function(e){var t,n;let r,a=new Date(e);return nQ(nj(a,a),nK(a))?`Bugun, ${nV(a,"HH:mm")}`:nQ(nj(a,a),(t=nK(a),n=void 0,r=nk(t,n?.in),isNaN(-1)?nj(n?.in||t,NaN):(r.setDate(r.getDate()+-1),r)))?`Kecha, ${nV(a,"HH:mm")}`:nV(a,"d MMMM yyyy, HH:mm",{locale:n0})})(e.created_at).split(",")[0]})}),(0,u.jsx)(n2,{message:e,isOwn:e.user_id===t,showAvatar:i})]},e.id)}),(0,u.jsx)("div",{ref:i})]})})}var n5=e.i(84762);let n3=(0,na.default)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);var n8=e.i(14764);let n6=(0,na.default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var n7=e.i(37727),n9=e.i(31278);let re=["top","right","bottom","left"],rt=Math.min,rn=Math.max,rr=Math.round,ra=Math.floor,ri=e=>({x:e,y:e}),ro={left:"right",right:"left",bottom:"top",top:"bottom"},rs={start:"end",end:"start"};function rl(e,t){return"function"==typeof e?e(t):e}function rc(e){return e.split("-")[0]}function ru(e){return e.split("-")[1]}function rd(e){return"x"===e?"y":"x"}function rf(e){return"y"===e?"height":"width"}let rh=new Set(["top","bottom"]);function rm(e){return rh.has(rc(e))?"y":"x"}function rp(e){return e.replace(/start|end/g,e=>rs[e])}let rg=["left","right"],rv=["right","left"],ry=["top","bottom"],rx=["bottom","top"];function rw(e){return e.replace(/left|right|bottom|top/g,e=>ro[e])}function rb(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function rj(e){let{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function rk(e,t,n){let r,{reference:a,floating:i}=e,o=rm(t),s=rd(rm(t)),l=rf(s),c=rc(t),u="y"===o,d=a.x+a.width/2-i.width/2,f=a.y+a.height/2-i.height/2,h=a[l]/2-i[l]/2;switch(c){case"top":r={x:d,y:a.y-i.height};break;case"bottom":r={x:d,y:a.y+a.height};break;case"right":r={x:a.x+a.width,y:f};break;case"left":r={x:a.x-i.width,y:f};break;default:r={x:a.x,y:a.y}}switch(ru(t)){case"start":r[s]-=h*(n&&u?-1:1);break;case"end":r[s]+=h*(n&&u?-1:1)}return r}let rE=async(e,t,n)=>{let{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,s=i.filter(Boolean),l=await (null==o.isRTL?void 0:o.isRTL(t)),c=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:d}=rk(c,r,l),f=r,h={},m=0;for(let n=0;n<s.length;n++){let{name:i,fn:p}=s[n],{x:g,y:v,data:y,reset:x}=await p({x:u,y:d,initialPlacement:r,placement:f,strategy:a,middlewareData:h,rects:c,platform:o,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,h={...h,[i]:{...h[i],...y}},x&&m<=50&&(m++,"object"==typeof x&&(x.placement&&(f=x.placement),x.rects&&(c=!0===x.rects?await o.getElementRects({reference:e,floating:t,strategy:a}):x.rects),{x:u,y:d}=rk(c,f,l)),n=-1)}return{x:u,y:d,placement:f,strategy:a,middlewareData:h}};async function rC(e,t){var n;void 0===t&&(t={});let{x:r,y:a,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=rl(t,e),m=rb(h),p=s[f?"floating"===d?"reference":"floating":d],g=rj(await i.getClippingRect({element:null==(n=await (null==i.isElement?void 0:i.isElement(p)))||n?p:p.contextElement||await (null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await (null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),x=await (null==i.isElement?void 0:i.isElement(y))&&await (null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},w=rj(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-w.top+m.top)/x.y,bottom:(w.bottom-g.bottom+m.bottom)/x.y,left:(g.left-w.left+m.left)/x.x,right:(w.right-g.right+m.right)/x.x}}function rN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rS(e){return re.some(t=>e[t]>=0)}let rR=new Set(["left","top"]);async function rP(e,t){let{placement:n,platform:r,elements:a}=e,i=await (null==r.isRTL?void 0:r.isRTL(a.floating)),o=rc(n),s=ru(n),l="y"===rm(n),c=rR.has(o)?-1:1,u=i&&l?-1:1,d=rl(t,e),{mainAxis:f,crossAxis:h,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof m&&(h="end"===s?-1*m:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}function rM(){return"undefined"!=typeof window}function rT(e){return r_(e)?(e.nodeName||"").toLowerCase():"#document"}function rD(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function rL(e){var t;return null==(t=(r_(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function r_(e){return!!rM()&&(e instanceof Node||e instanceof rD(e).Node)}function rA(e){return!!rM()&&(e instanceof Element||e instanceof rD(e).Element)}function rO(e){return!!rM()&&(e instanceof HTMLElement||e instanceof rD(e).HTMLElement)}function rW(e){return!!rM()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof rD(e).ShadowRoot)}let rF=new Set(["inline","contents"]);function rz(e){let{overflow:t,overflowX:n,overflowY:r,display:a}=rQ(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!rF.has(a)}let rI=new Set(["table","td","th"]),rH=[":popover-open",":modal"];function rq(e){return rH.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let rY=["transform","translate","scale","rotate","perspective"],rB=["transform","translate","scale","rotate","perspective","filter"],rX=["paint","layout","strict","content"];function r$(e){let t=rU(),n=rA(e)?rQ(e):e;return rY.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||rB.some(e=>(n.willChange||"").includes(e))||rX.some(e=>(n.contain||"").includes(e))}function rU(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let rV=new Set(["html","body","#document"]);function rK(e){return rV.has(rT(e))}function rQ(e){return rD(e).getComputedStyle(e)}function rG(e){return rA(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rJ(e){if("html"===rT(e))return e;let t=e.assignedSlot||e.parentNode||rW(e)&&e.host||rL(e);return rW(t)?t.host:t}function rZ(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);let a=function e(t){let n=rJ(t);return rK(n)?t.ownerDocument?t.ownerDocument.body:t.body:rO(n)&&rz(n)?n:e(n)}(e),i=a===(null==(r=e.ownerDocument)?void 0:r.body),o=rD(a);if(i){let e=r0(o);return t.concat(o,o.visualViewport||[],rz(a)?a:[],e&&n?rZ(e):[])}return t.concat(a,rZ(a,[],n))}function r0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function r1(e){let t=rQ(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,a=rO(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,s=rr(n)!==i||rr(r)!==o;return s&&(n=i,r=o),{width:n,height:r,$:s}}function r2(e){return rA(e)?e:e.contextElement}function r4(e){let t=r2(e);if(!rO(t))return ri(1);let n=t.getBoundingClientRect(),{width:r,height:a,$:i}=r1(t),o=(i?rr(n.width):n.width)/r,s=(i?rr(n.height):n.height)/a;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}let r5=ri(0);function r3(e){let t=rD(e);return rU()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:r5}function r8(e,t,n,r){var a;void 0===t&&(t=!1),void 0===n&&(n=!1);let i=e.getBoundingClientRect(),o=r2(e),s=ri(1);t&&(r?rA(r)&&(s=r4(r)):s=r4(e));let l=(void 0===(a=n)&&(a=!1),r&&(!a||r===rD(o))&&a)?r3(o):ri(0),c=(i.left+l.x)/s.x,u=(i.top+l.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){let e=rD(o),t=r&&rA(r)?rD(r):r,n=e,a=r0(n);for(;a&&r&&t!==n;){let e=r4(a),t=a.getBoundingClientRect(),r=rQ(a),i=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,u*=e.y,d*=e.x,f*=e.y,c+=i,u+=o,a=r0(n=rD(a))}}return rj({width:d,height:f,x:c,y:u})}function r6(e,t){let n=rG(e).scrollLeft;return t?t.left+n:r8(rL(e)).left+n}function r7(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-r6(e,n),y:n.top+t.scrollTop}}let r9=new Set(["absolute","fixed"]);function ae(e,t,n){var r;let a;if("viewport"===t)a=function(e,t){let n=rD(e),r=rL(e),a=n.visualViewport,i=r.clientWidth,o=r.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;let e=rU();(!e||e&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}let c=r6(r);if(c<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),a="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-a);o<=25&&(i-=o)}else c<=25&&(i+=c);return{width:i,height:o,x:s,y:l}}(e,n);else if("document"===t){let t,n,i,o,s,l,c;r=rL(e),t=rL(r),n=rG(r),i=r.ownerDocument.body,o=rn(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=rn(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight),l=-n.scrollLeft+r6(r),c=-n.scrollTop,"rtl"===rQ(i).direction&&(l+=rn(t.clientWidth,i.clientWidth)-o),a={width:o,height:s,x:l,y:c}}else if(rA(t)){let e,r,i,o,s,l;r=(e=r8(t,!0,"fixed"===n)).top+t.clientTop,i=e.left+t.clientLeft,o=rO(t)?r4(t):ri(1),s=t.clientWidth*o.x,l=t.clientHeight*o.y,a={width:s,height:l,x:i*o.x,y:r*o.y}}else{let n=r3(e);a={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return rj(a)}function at(e){return"static"===rQ(e).position}function an(e,t){if(!rO(e)||"fixed"===rQ(e).position)return null;if(t)return t(e);let n=e.offsetParent;return rL(e)===n&&(n=n.ownerDocument.body),n}function ar(e,t){var n;let r=rD(e);if(rq(e))return r;if(!rO(e)){let t=rJ(e);for(;t&&!rK(t);){if(rA(t)&&!at(t))return t;t=rJ(t)}return r}let a=an(e,t);for(;a&&(n=a,rI.has(rT(n)))&&at(a);)a=an(a,t);return a&&rK(a)&&at(a)&&!r$(a)?r:a||function(e){let t=rJ(e);for(;rO(t)&&!rK(t);){if(r$(t))return t;if(rq(t))break;t=rJ(t)}return null}(e)||r}let aa=async function(e){let t=this.getOffsetParent||ar,n=this.getDimensions,r=await n(e.floating);return{reference:function(e,t,n){let r=rO(t),a=rL(t),i="fixed"===n,o=r8(e,!0,i,t),s={scrollLeft:0,scrollTop:0},l=ri(0);if(r||!r&&!i)if(("body"!==rT(t)||rz(a))&&(s=rG(t)),r){let e=r8(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&(l.x=r6(a));i&&!r&&a&&(l.x=r6(a));let c=!a||r||i?ri(0):r7(a,s);return{x:o.left+s.scrollLeft-l.x-c.x,y:o.top+s.scrollTop-l.y-c.y,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},ai={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e,i="fixed"===a,o=rL(r),s=!!t&&rq(t.floating);if(r===o||s&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ri(1),u=ri(0),d=rO(r);if((d||!d&&!i)&&(("body"!==rT(r)||rz(o))&&(l=rG(r)),rO(r))){let e=r8(r);c=r4(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}let f=!o||d||i?ri(0):r7(o,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}},getDocumentElement:rL,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e,i=[..."clippingAncestors"===n?rq(t)?[]:function(e,t){let n=t.get(e);if(n)return n;let r=rZ(e,[],!1).filter(e=>rA(e)&&"body"!==rT(e)),a=null,i="fixed"===rQ(e).position,o=i?rJ(e):e;for(;rA(o)&&!rK(o);){let t=rQ(o),n=r$(o);n||"fixed"!==t.position||(a=null),(i?!n&&!a:!n&&"static"===t.position&&!!a&&r9.has(a.position)||rz(o)&&!n&&function e(t,n){let r=rJ(t);return!(r===n||!rA(r)||rK(r))&&("fixed"===rQ(r).position||e(r,n))}(e,o))?r=r.filter(e=>e!==o):a=t,o=rJ(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=i[0],s=i.reduce((e,n)=>{let r=ae(t,n,a);return e.top=rn(r.top,e.top),e.right=rt(r.right,e.right),e.bottom=rt(r.bottom,e.bottom),e.left=rn(r.left,e.left),e},ae(t,o,a));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:ar,getElementRects:aa,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:n}=r1(e);return{width:t,height:n}},getScale:r4,isElement:rA,isRTL:function(e){return"rtl"===rQ(e).direction}};function ao(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let as=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:r,placement:a,rects:i,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=rl(e,t)||{};if(null==c)return{};let d=rb(u),f={x:n,y:r},h=rd(rm(a)),m=rf(h),p=await o.getDimensions(c),g="y"===h,v=g?"clientHeight":"clientWidth",y=i.reference[m]+i.reference[h]-f[h]-i.floating[m],x=f[h]-i.reference[h],w=await (null==o.getOffsetParent?void 0:o.getOffsetParent(c)),b=w?w[v]:0;b&&await (null==o.isElement?void 0:o.isElement(w))||(b=s.floating[v]||i.floating[m]);let j=b/2-p[m]/2-1,k=rt(d[g?"top":"left"],j),E=rt(d[g?"bottom":"right"],j),C=b-p[m]-E,N=b/2-p[m]/2+(y/2-x/2),S=rn(k,rt(N,C)),R=!l.arrow&&null!=ru(a)&&N!==S&&i.reference[m]/2-(N<k?k:E)-p[m]/2<0,P=R?N<k?N-k:N-C:0;return{[h]:f[h]+P,data:{[h]:S,centerOffset:N-S-P,...R&&{alignmentOffset:P}},reset:R}}});var al="undefined"!=typeof document?d.useLayoutEffect:function(){};function ac(e,t){let n,r,a;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!=r--;)if(!ac(e[r],t[r]))return!1;return!0}if((n=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!({}).hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!=r--;){let n=a[r];if(("_owner"!==n||!e.$$typeof)&&!ac(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function au(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ad(e,t){let n=au(e);return Math.round(t*n)/n}function af(e){let t=d.useRef(e);return al(()=>{t.current=e}),t}var ah=d.forwardRef((e,t)=>{let{children:n,width:r=10,height:a=5,...i}=e;return(0,u.jsx)(x.Primitive.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,u.jsx)("polygon",{points:"0,0 30,0 15,10"})})});ah.displayName="Arrow";var am="Popper",[ap,ag]=(0,E.createContextScope)(am),[av,ay]=ap(am),ax=e=>{let{__scopePopper:t,children:n}=e,[r,a]=d.useState(null);return(0,u.jsx)(av,{scope:t,anchor:r,onAnchorChange:a,children:n})};ax.displayName=am;var aw="PopperAnchor",ab=d.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:r,...a}=e,i=ay(aw,n),o=d.useRef(null),s=(0,w.useComposedRefs)(t,o);return d.useEffect(()=>{i.onAnchorChange(r?.current||o.current)}),r?null:(0,u.jsx)(x.Primitive.div,{...a,ref:s})});ab.displayName=aw;var aj="PopperContent",[ak,aE]=ap(aj),aC=d.forwardRef((e,t)=>{var n,r,a,i,o,s,l,c,f,h,m,p,g;let{__scopePopper:v,side:y="bottom",sideOffset:j=0,align:k="center",alignOffset:E=0,arrowPadding:N=0,avoidCollisions:S=!0,collisionBoundary:R=[],collisionPadding:P=0,sticky:M="partial",hideWhenDetached:T=!1,updatePositionStrategy:D="optimized",onPlaced:L,..._}=e,A=ay(aj,v),[O,W]=d.useState(null),F=(0,w.useComposedRefs)(t,e=>W(e)),[z,I]=d.useState(null),H=t1(z),q=H?.width??0,Y=H?.height??0,B="number"==typeof P?P:{top:0,right:0,bottom:0,left:0,...P},X=Array.isArray(R)?R:[R],$=X.length>0,U={padding:B,boundary:X.filter(aP),altBoundary:$},{refs:V,floatingStyles:K,placement:Q,isPositioned:G,middlewareData:J}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=d.useState(r);ac(h,r)||m(r);let[p,g]=d.useState(null),[v,y]=d.useState(null),x=d.useCallback(e=>{e!==k.current&&(k.current=e,g(e))},[]),w=d.useCallback(e=>{e!==E.current&&(E.current=e,y(e))},[]),b=i||p,j=o||v,k=d.useRef(null),E=d.useRef(null),C=d.useRef(u),N=null!=l,S=af(l),R=af(a),P=af(c),M=d.useCallback(()=>{var e,r;let a,i,o;if(!k.current||!E.current)return;let s={placement:t,strategy:n,middleware:h};R.current&&(s.platform=R.current),(e=k.current,r=E.current,a=new Map,o={...(i={platform:ai,...s}).platform,_c:a},rE(e,r,{...i,platform:o})).then(e=>{let t={...e,isPositioned:!1!==P.current};T.current&&!ac(C.current,t)&&(C.current=t,eP.flushSync(()=>{f(t)}))})},[h,t,n,R,P]);al(()=>{!1===c&&C.current.isPositioned&&(C.current.isPositioned=!1,f(e=>({...e,isPositioned:!1})))},[c]);let T=d.useRef(!1);al(()=>(T.current=!0,()=>{T.current=!1}),[]),al(()=>{if(b&&(k.current=b),j&&(E.current=j),b&&j){if(S.current)return S.current(b,j,M);M()}},[b,j,M,S,N]);let D=d.useMemo(()=>({reference:k,floating:E,setReference:x,setFloating:w}),[x,w]),L=d.useMemo(()=>({reference:b,floating:j}),[b,j]),_=d.useMemo(()=>{let e={position:n,left:0,top:0};if(!L.floating)return e;let t=ad(L.floating,u.x),r=ad(L.floating,u.y);return s?{...e,transform:"translate("+t+"px, "+r+"px)",...au(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,s,L.floating,u.x,u.y]);return d.useMemo(()=>({...u,update:M,refs:D,elements:L,floatingStyles:_}),[u,M,D,L,_])}({strategy:"fixed",placement:y+("center"!==k?"-"+k:""),whileElementsMounted:(...e)=>(function(e,t,n,r){let a;void 0===r&&(r={});let{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:c=!1}=r,u=r2(e),d=i||o?[...u?rZ(u):[],...rZ(t)]:[];d.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});let f=u&&l?function(e,t){let n,r=null,a=rL(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return!function o(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),i();let c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(s||t(),!f||!h)return;let m={rootMargin:-ra(d)+"px "+-ra(a.clientWidth-(u+f))+"px "+-ra(a.clientHeight-(d+h))+"px "+-ra(u)+"px",threshold:rn(0,rt(1,l))||1},p=!0;function g(t){let r=t[0].intersectionRatio;if(r!==l){if(!p)return o();r?o(!1,r):n=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==r||ao(c,e.getBoundingClientRect())||o(),p=!1}try{r=new IntersectionObserver(g,{...m,root:a.ownerDocument})}catch(e){r=new IntersectionObserver(g,m)}r.observe(e)}(!0),i}(u,n):null,h=-1,m=null;s&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let p=c?r8(e):null;return c&&function t(){let r=r8(e);p&&!ao(p,r)&&n(),p=r,a=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==f||f(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(a)}})(...e,{animationFrame:"always"===D}),elements:{reference:A.anchor},middleware:[{...{name:"offset",options:r=n={mainAxis:j+Y,alignmentAxis:E},async fn(e){var t,n;let{x:a,y:i,placement:o,middlewareData:s}=e,l=await rP(e,r);return o===(null==(t=s.offset)?void 0:t.placement)&&null!=(n=s.arrow)&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:o}}}},options:[n,void 0]},S&&{...{name:"shift",options:o=i={mainAxis:!0,crossAxis:!1,limiter:"partial"===M?{...(a=void 0,{options:a={},fn(e){let{x:t,y:n,placement:r,rects:i,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=rl(a,e),u={x:t,y:n},d=rm(r),f=rd(d),h=u[f],m=u[d],p=rl(s,e),g="number"==typeof p?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){let e="y"===f?"height":"width",t=i.reference[f]-i.floating[e]+g.mainAxis,n=i.reference[f]+i.reference[e]-g.mainAxis;h<t?h=t:h>n&&(h=n)}if(c){var v,y;let e="y"===f?"width":"height",t=rR.has(rc(r)),n=i.reference[d]-i.floating[e]+(t&&(null==(v=o.offset)?void 0:v[d])||0)+(t?0:g.crossAxis),a=i.reference[d]+i.reference[e]+(t?0:(null==(y=o.offset)?void 0:y[d])||0)-(t?g.crossAxis:0);m<n?m=n:m>a&&(m=a)}return{[f]:h,[d]:m}}}),options:[void 0,void 0]}:void 0,...U},async fn(e){let{x:t,y:n,placement:r}=e,{mainAxis:a=!0,crossAxis:i=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=rl(o,e),c={x:t,y:n},u=await rC(e,l),d=rm(rc(r)),f=rd(d),h=c[f],m=c[d];if(a){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",n=h+u[e],r=h-u[t];h=rn(n,rt(h,r))}if(i){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",n=m+u[e],r=m-u[t];m=rn(n,rt(m,r))}let p=s.fn({...e,[f]:h,[d]:m});return{...p,data:{x:p.x-t,y:p.y-n,enabled:{[f]:a,[d]:i}}}}},options:[i,void 0]},S&&{...{name:"flip",options:l=s={...U},async fn(e){var t,n,r,a,i,o,s,c;let u,d,f,{placement:h,middlewareData:m,rects:p,initialPlacement:g,platform:v,elements:y}=e,{mainAxis:x=!0,crossAxis:w=!0,fallbackPlacements:b,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:E=!0,...C}=rl(l,e);if(null!=(t=m.arrow)&&t.alignmentOffset)return{};let N=rc(h),S=rm(g),R=rc(g)===g,P=await (null==v.isRTL?void 0:v.isRTL(y.floating)),M=b||(R||!E?[rw(g)]:(u=rw(g),[rp(g),u,rp(u)])),T="none"!==k;!b&&T&&M.push(...(d=ru(g),f=function(e,t,n){switch(e){case"top":case"bottom":if(n)return t?rv:rg;return t?rg:rv;case"left":case"right":return t?ry:rx;default:return[]}}(rc(g),"start"===k,P),d&&(f=f.map(e=>e+"-"+d),E&&(f=f.concat(f.map(rp)))),f));let D=[g,...M],L=await rC(e,C),_=[],A=(null==(n=m.flip)?void 0:n.overflows)||[];if(x&&_.push(L[N]),w){let e,t,n,r,a=(o=h,s=p,void 0===(c=P)&&(c=!1),e=ru(o),n=rf(t=rd(rm(o))),r="x"===t?e===(c?"end":"start")?"right":"left":"start"===e?"bottom":"top",s.reference[n]>s.floating[n]&&(r=rw(r)),[r,rw(r)]);_.push(L[a[0]],L[a[1]])}if(A=[...A,{placement:h,overflows:_}],!_.every(e=>e<=0)){let e=((null==(r=m.flip)?void 0:r.index)||0)+1,t=D[e];if(t&&("alignment"!==w||S===rm(t)||A.every(e=>rm(e.placement)!==S||e.overflows[0]>0)))return{data:{index:e,overflows:A},reset:{placement:t}};let n=null==(a=A.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:a.placement;if(!n)switch(j){case"bestFit":{let e=null==(i=A.filter(e=>{if(T){let t=rm(e.placement);return t===S||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:i[0];e&&(n=e);break}case"initialPlacement":n=g}if(h!==n)return{reset:{placement:n}}}return{}}},options:[s,void 0]},{...{name:"size",options:f=c={...U,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{let{width:a,height:i}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${n}px`),o.setProperty("--radix-popper-available-height",`${r}px`),o.setProperty("--radix-popper-anchor-width",`${a}px`),o.setProperty("--radix-popper-anchor-height",`${i}px`)}},async fn(e){var t,n;let r,a,{placement:i,rects:o,platform:s,elements:l}=e,{apply:c=()=>{},...u}=rl(f,e),d=await rC(e,u),h=rc(i),m=ru(i),p="y"===rm(i),{width:g,height:v}=o.floating;"top"===h||"bottom"===h?(r=h,a=m===(await (null==s.isRTL?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(a=h,r="end"===m?"top":"bottom");let y=v-d.top-d.bottom,x=g-d.left-d.right,w=rt(v-d[r],y),b=rt(g-d[a],x),j=!e.middlewareData.shift,k=w,E=b;if(null!=(t=e.middlewareData.shift)&&t.enabled.x&&(E=x),null!=(n=e.middlewareData.shift)&&n.enabled.y&&(k=y),j&&!m){let e=rn(d.left,0),t=rn(d.right,0),n=rn(d.top,0),r=rn(d.bottom,0);p?E=g-2*(0!==e||0!==t?e+t:rn(d.left,d.right)):k=v-2*(0!==n||0!==r?n+r:rn(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:k});let C=await s.getDimensions(l.floating);return g!==C.width||v!==C.height?{reset:{rects:!0}}:{}}},options:[c,void 0]},z&&{...{name:"arrow",options:m=h={element:z,padding:N},fn(e){let{element:t,padding:n}="function"==typeof m?m(e):m;return t&&({}).hasOwnProperty.call(t,"current")?null!=t.current?as({element:t.current,padding:n}).fn(e):{}:t?as({element:t,padding:n}).fn(e):{}}},options:[h,void 0]},aM({arrowWidth:q,arrowHeight:Y}),T&&{...{name:"hide",options:g=p={strategy:"referenceHidden",...U},async fn(e){let{rects:t}=e,{strategy:n="referenceHidden",...r}=rl(g,e);switch(n){case"referenceHidden":{let n=rN(await rC(e,{...r,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:n,referenceHidden:rS(n)}}}case"escaped":{let n=rN(await rC(e,{...r,altBoundary:!0}),t.floating);return{data:{escapedOffsets:n,escaped:rS(n)}}}default:return{}}}},options:[p,void 0]}]}),[Z,ee]=aT(Q),et=(0,C.useCallbackRef)(L);(0,b.useLayoutEffect)(()=>{G&&et?.()},[G,et]);let en=J.arrow?.x,er=J.arrow?.y,ea=J.arrow?.centerOffset!==0,[ei,eo]=d.useState();return(0,b.useLayoutEffect)(()=>{O&&eo(window.getComputedStyle(O).zIndex)},[O]),(0,u.jsx)("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:G?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ei,"--radix-popper-transform-origin":[J.transformOrigin?.x,J.transformOrigin?.y].join(" "),...J.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,u.jsx)(ak,{scope:v,placedSide:Z,onArrowChange:I,arrowX:en,arrowY:er,shouldHideArrow:ea,children:(0,u.jsx)(x.Primitive.div,{"data-side":Z,"data-align":ee,..._,ref:F,style:{..._.style,animation:G?void 0:"none"}})})})});aC.displayName=aj;var aN="PopperArrow",aS={top:"bottom",right:"left",bottom:"top",left:"right"},aR=d.forwardRef(function(e,t){let{__scopePopper:n,...r}=e,a=aE(aN,n),i=aS[a.placedSide];return(0,u.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,u.jsx)(ah,{...r,ref:t,style:{...r.style,display:"block"}})})});function aP(e){return null!==e}aR.displayName=aN;var aM=e=>({name:"transformOrigin",options:e,fn(t){let{placement:n,rects:r,middlewareData:a}=t,i=a.arrow?.centerOffset!==0,o=i?0:e.arrowWidth,s=i?0:e.arrowHeight,[l,c]=aT(n),u={start:"0%",center:"50%",end:"100%"}[c],d=(a.arrow?.x??0)+o/2,f=(a.arrow?.y??0)+s/2,h="",m="";return"bottom"===l?(h=i?u:`${d}px`,m=`${-s}px`):"top"===l?(h=i?u:`${d}px`,m=`${r.floating.height+s}px`):"right"===l?(h=`${-s}px`,m=i?u:`${f}px`):"left"===l&&(h=`${r.floating.width+s}px`,m=i?u:`${f}px`),{data:{x:h,y:m}}}});function aT(e){let[t,n="center"]=e.split("-");return[t,n]}var aD=d.forwardRef((e,t)=>(0,u.jsx)(x.Primitive.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));aD.displayName="VisuallyHidden";var[aL,a_]=(0,E.createContextScope)("Tooltip",[ag]),aA=ag(),aO="TooltipProvider",aW="tooltip.open",[aF,az]=aL(aO),aI=e=>{let{__scopeTooltip:t,delayDuration:n=700,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,[o,s]=d.useState(!0),l=d.useRef(!1),c=d.useRef(0);return d.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,u.jsx)(aF,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(c.current),s(!1)},[]),onClose:d.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:d.useCallback(e=>{l.current=e},[]),disableHoverableContent:a,children:i})};aI.displayName=aO;var aH="Tooltip",[aq,aY]=aL(aH),aB=e=>{let{__scopeTooltip:t,children:n,open:r,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:s}=e,l=az(aH,e.__scopeTooltip),c=aA(t),[f,h]=d.useState(null),m=eh(),p=d.useRef(0),g=o??l.disableHoverableContent,v=s??l.delayDuration,y=d.useRef(!1),[x=!1,w]=em({prop:r,defaultProp:a,onChange:e=>{e?(l.onOpen(),document.dispatchEvent(new CustomEvent(aW))):l.onClose(),i?.(e)}}),b=d.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),j=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,w(!0)},[w]),k=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),E=d.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,w(!0),p.current=0},v)},[v,w]);return d.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),(0,u.jsx)(ax,{...c,children:(0,u.jsx)(aq,{scope:t,contentId:m,open:x,stateAttribute:b,trigger:f,onTriggerChange:h,onTriggerEnter:d.useCallback(()=>{l.isOpenDelayed?E():j()},[l.isOpenDelayed,E,j]),onTriggerLeave:d.useCallback(()=>{g?k():(window.clearTimeout(p.current),p.current=0)},[k,g]),onOpen:j,onClose:k,disableHoverableContent:g,children:n})})};aB.displayName=aH;var aX="TooltipTrigger",a$=d.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,a=aY(aX,n),i=az(aX,n),o=aA(n),s=d.useRef(null),l=(0,w.useComposedRefs)(t,s,a.onTriggerChange),c=d.useRef(!1),f=d.useRef(!1),h=d.useCallback(()=>c.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),(0,u.jsx)(ab,{asChild:!0,...o,children:(0,u.jsx)(x.Primitive.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:l,onPointerMove:S(e.onPointerMove,e=>{"touch"!==e.pointerType&&(f.current||i.isPointerInTransitRef.current||(a.onTriggerEnter(),f.current=!0))}),onPointerLeave:S(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:S(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:S(e.onFocus,()=>{c.current||a.onOpen()}),onBlur:S(e.onBlur,a.onClose),onClick:S(e.onClick,a.onClose)})})});a$.displayName=aX;var aU="TooltipPortal",[aV,aK]=aL(aU,{forceMount:void 0}),aQ=e=>{let{__scopeTooltip:t,forceMount:n,children:r,container:a}=e,i=aY(aU,t);return(0,u.jsx)(aV,{scope:t,forceMount:n,children:(0,u.jsx)(j,{present:n||i.open,children:(0,u.jsx)(eM,{asChild:!0,container:a,children:r})})})};aQ.displayName=aU;var aG="TooltipContent",aJ=d.forwardRef((e,t)=>{let n=aK(aG,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=aY(aG,e.__scopeTooltip);return(0,u.jsx)(j,{present:r||o.open,children:o.disableHoverableContent?(0,u.jsx)(a2,{side:a,...i,ref:t}):(0,u.jsx)(aZ,{side:a,...i,ref:t})})}),aZ=d.forwardRef((e,t)=>{let n=aY(aG,e.__scopeTooltip),r=az(aG,e.__scopeTooltip),a=d.useRef(null),i=(0,w.useComposedRefs)(t,a),[o,s]=d.useState(null),{trigger:l,onClose:c}=n,f=a.current,{onPointerInTransitChange:h}=r,m=d.useCallback(()=>{s(null),h(!1)},[h]),p=d.useCallback((e,t)=>{let n,r=e.currentTarget,a={x:e.clientX,y:e.clientY},i=function(e,t){let n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw Error("unreachable")}}(a,r.getBoundingClientRect());s(((n=[...function(e,t,n=5){let r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(a,i),...function(e){let{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))n.pop();else break}n.push(r)}return(n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y)?t:t.concat(n)}(n))),h(!0)},[h]);return d.useEffect(()=>()=>m(),[m]),d.useEffect(()=>{if(l&&f){let e=e=>p(e,f),t=e=>p(e,l);return l.addEventListener("pointerleave",e),f.addEventListener("pointerleave",t),()=>{l.removeEventListener("pointerleave",e),f.removeEventListener("pointerleave",t)}}},[l,f,p,m]),d.useEffect(()=>{if(o){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},r=l?.contains(t)||f?.contains(t),a=!function(e,t){let{x:n,y:r}=e,a=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){let o=t[e].x,s=t[e].y,l=t[i].x,c=t[i].y;s>r!=c>r&&n<(l-o)*(r-s)/(c-s)+o&&(a=!a)}return a}(n,o);r?m():a&&(m(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[l,f,o,c,m]),(0,u.jsx)(a2,{...e,ref:i})}),[a0,a1]=aL(aH,{isInside:!1}),a2=d.forwardRef((e,t)=>{let{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...s}=e,l=aY(aG,n),c=aA(n),{onClose:f}=l;return d.useEffect(()=>(document.addEventListener(aW,f),()=>document.removeEventListener(aW,f)),[f]),d.useEffect(()=>{if(l.trigger){let e=e=>{let t=e.target;t?.contains(l.trigger)&&f()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[l.trigger,f]),(0,u.jsx)(ev,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:f,children:(0,u.jsxs)(aC,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,u.jsx)(tm.Slottable,{children:r}),(0,u.jsx)(a0,{scope:n,isInside:!0,children:(0,u.jsx)(aD,{id:l.contentId,role:"tooltip",children:a||r})})]})})});aJ.displayName=aG;var a4="TooltipArrow",a5=d.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,a=aA(n);return a1(a4,n).isInside?null:(0,u.jsx)(aR,{...a,...r,ref:t})});function a3({delayDuration:e=0,...t}){return(0,u.jsx)(aI,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function a8({...e}){return(0,u.jsx)(a3,{children:(0,u.jsx)(aB,{"data-slot":"tooltip",...e})})}function a6({...e}){return(0,u.jsx)(a$,{"data-slot":"tooltip-trigger",...e})}function a7({className:e,sideOffset:t=0,children:n,...r}){return(0,u.jsx)(aQ,{children:(0,u.jsxs)(aJ,{"data-slot":"tooltip-content",sideOffset:t,className:(0,es.cn)("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,(0,u.jsx)(a5,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function a9({roomId:e,username:t}){let[n,r]=(0,d.useState)(""),[a,i]=(0,d.useState)(!1),[o,s]=(0,d.useState)(null),[l,c]=(0,d.useState)(null),m=(0,d.useRef)(null),p=(0,d.useRef)(null),y=(0,d.useRef)(null),{sendMessage:x}=h(e),{uploadFile:w,uploading:b}=function(){let[e,t]=(0,d.useState)(!1),[n,r]=(0,d.useState)(0),[a,i]=(0,d.useState)(null),o=(0,f.createClient)();return{uploadFile:async(e,n="chat-files")=>{t(!0),r(0),i(null);try{let{data:{user:t}}=await o.auth.getUser();if(!t)throw Error("Foydalanuvchi topilmadi");let a=e.name.split(".").pop(),i=`${t.id}/${Date.now()}-${Math.random().toString(36).substring(7)}.${a}`,{error:s,data:l}=await o.storage.from(n).upload(i,e,{cacheControl:"3600",upsert:!1});if(s)throw s;r(100);let{data:{publicUrl:c}}=o.storage.from(n).getPublicUrl(l.path);return{url:c,path:l.path,name:e.name,size:e.size}}catch(e){return i(e instanceof Error?e.message:"Fayl yuklashda xatolik"),null}finally{t(!1)}},deleteFile:async(e,t="chat-files")=>{let{error:n}=await o.storage.from(t).remove([e]);if(n)throw n},uploading:e,progress:n,error:a}}(),{setTyping:j}=g(e),k=(0,d.useCallback)((e,t)=>{e&&(s(e),t&&e.type.startsWith("image/")?c(URL.createObjectURL(e)):c(null))},[]),E=(0,d.useCallback)(()=>{s(null),l&&(URL.revokeObjectURL(l),c(null)),m.current&&(m.current.value=""),p.current&&(p.current.value="")},[l]),C=async()=>{if((n.trim()||o)&&!a){i(!0);try{if(o){let e=await w(o);if(e){let t=o.type.startsWith("image/")?"image":"file";await x(n.trim(),t,e.url,e.name,e.size)}E()}else await x(n.trim());r(""),y.current?.focus()}catch(e){console.error("Xabar yuborishda xatolik:",e)}finally{i(!1),j(!1,t)}}},N=a||b;return(0,u.jsxs)("div",{className:"border-t bg-white dark:bg-gray-900 p-4",children:[o&&(0,u.jsx)("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[l?(0,u.jsx)("img",{src:l,alt:"Ko'rib chiqish",className:"h-16 w-16 object-cover rounded"}):(0,u.jsx)("div",{className:"h-16 w-16 bg-gray-200 dark:bg-gray-700 rounded flex items-center justify-center",children:(0,u.jsx)(n3,{className:"h-6 w-6 text-gray-500"})}),(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsx)("p",{className:"text-sm font-medium truncate",children:o.name}),(0,u.jsxs)("p",{className:"text-xs text-gray-500",children:[(o.size/1024).toFixed(1)," KB"]})]}),(0,u.jsx)(v.Button,{variant:"ghost",size:"icon",onClick:E,disabled:N,children:(0,u.jsx)(n7.X,{className:"h-4 w-4"})})]})}),(0,u.jsxs)("div",{className:"flex items-end gap-2",children:[(0,u.jsx)(a3,{children:(0,u.jsxs)("div",{className:"flex gap-1",children:[(0,u.jsxs)(a8,{children:[(0,u.jsx)(a6,{asChild:!0,children:(0,u.jsx)(v.Button,{variant:"ghost",size:"icon",disabled:N,onClick:()=>p.current?.click(),children:(0,u.jsx)(n6,{className:"h-5 w-5"})})}),(0,u.jsx)(a7,{children:"Rasm yuklash"})]}),(0,u.jsxs)(a8,{children:[(0,u.jsx)(a6,{asChild:!0,children:(0,u.jsx)(v.Button,{variant:"ghost",size:"icon",disabled:N,onClick:()=>m.current?.click(),children:(0,u.jsx)(n3,{className:"h-5 w-5"})})}),(0,u.jsx)(a7,{children:"Fayl yuklash"})]})]})}),(0,u.jsx)("input",{ref:p,type:"file",accept:"image/*",className:"hidden",onChange:e=>k(e.target.files?.[0]||null,!0)}),(0,u.jsx)("input",{ref:m,type:"file",className:"hidden",onChange:e=>k(e.target.files?.[0]||null,!1)}),(0,u.jsx)(n5.Textarea,{ref:y,placeholder:"Xabar yozing...",value:n,onChange:e=>{r(e.target.value),j(e.target.value.length>0,t)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),C())},disabled:N,className:"min-h-[44px] max-h-32 resize-none",rows:1}),(0,u.jsx)(v.Button,{onClick:C,disabled:!n.trim()&&!o||N,size:"icon",className:"shrink-0",children:N?(0,u.jsx)(n9.Loader2,{className:"h-5 w-5 animate-spin"}):(0,u.jsx)(n8.Send,{className:"h-5 w-5"})})]})]})}a5.displayName=a4;var t$=t$;function ie({...e}){return(0,u.jsx)(tw,{"data-slot":"sheet",...e})}function it({...e}){return(0,u.jsx)(tj,{"data-slot":"sheet-trigger",...e})}function ir({...e}){return(0,u.jsx)(tN,{"data-slot":"sheet-portal",...e})}function ia({className:e,...t}){return(0,u.jsx)(tR,{"data-slot":"sheet-overlay",className:(0,es.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function ii({className:e,children:t,side:n="right",...r}){return(0,u.jsxs)(ir,{children:[(0,u.jsx)(ia,{}),(0,u.jsxs)(tT,{"data-slot":"sheet-content",className:(0,es.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===n&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===n&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===n&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===n&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,(0,u.jsxs)(tz,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,u.jsx)(t$.default,{className:"size-4"}),(0,u.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function io({className:e,...t}){return(0,u.jsx)("div",{"data-slot":"sheet-header",className:(0,es.cn)("flex flex-col gap-1.5 p-4",e),...t})}function is({className:e,...t}){return(0,u.jsx)(tO,{"data-slot":"sheet-title",className:(0,es.cn)("text-foreground font-semibold",e),...t})}let il=(0,e.i(25913).cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ic({className:e,variant:t,asChild:n=!1,...r}){let a=n?tm.Slot:"span";return(0,u.jsx)(a,{"data-slot":"badge",className:(0,es.cn)(il({variant:t}),e),...r})}let iu=(0,na.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function id({room:e,currentUserId:t}){let{members:n,loading:r}=function(e){let[t,n]=(0,d.useState)([]),[r,a]=(0,d.useState)(!0),i=(0,f.createClient)();return(0,d.useEffect)(()=>{let t=async()=>{a(!0);let{data:t}=await i.from("room_members").select(`
          *,
          profiles:user_id (id, username, full_name, avatar_url, status)
        `).eq("room_id",e);n(t||[]),a(!1)};t();let r=i.channel(`members-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"room_members",filter:`room_id=eq.${e}`},()=>{t()}).subscribe();return()=>{i.removeChannel(r)}},[e,i]),{members:t,loading:r}}(e?.id||""),{leaveRoom:a}=m();if(!e)return(0,u.jsx)("div",{className:"h-14 border-b bg-white dark:bg-gray-900 flex items-center px-4",children:(0,u.jsx)("p",{className:"text-gray-500",children:"Xona tanlang"})});let i=n.filter(e=>e.profiles?.status==="online").length,o=async()=>{confirm("Rostdan ham bu xonadan chiqmoqchimisiz?")&&await a(e.id)};return(0,u.jsxs)("div",{className:"h-14 border-b bg-white dark:bg-gray-900 flex items-center justify-between px-4",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[e.is_private?(0,u.jsx)(no,{className:"h-5 w-5 text-gray-500"}):(0,u.jsx)(ni,{className:"h-5 w-5 text-gray-500"}),(0,u.jsx)("h2",{className:"font-semibold text-lg",children:e.name})]}),e.description&&(0,u.jsxs)("span",{className:"text-sm text-gray-500 hidden md:block",children:[" ",e.description]})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsxs)(ic,{variant:"secondary",className:"gap-1",children:[(0,u.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-500"}),i," onlayn"]}),(0,u.jsxs)(ie,{children:[(0,u.jsx)(it,{asChild:!0,children:(0,u.jsx)(v.Button,{variant:"ghost",size:"icon",children:(0,u.jsx)(iu,{className:"h-5 w-5"})})}),(0,u.jsxs)(ii,{children:[(0,u.jsx)(io,{children:(0,u.jsxs)(is,{className:"flex items-center gap-2",children:[(0,u.jsx)(iu,{className:"h-5 w-5"}),"A'zolar (",n.length,")"]})}),(0,u.jsx)(el,{className:"h-[calc(100vh-120px)] mt-4",children:(0,u.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,u.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:[(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsxs)(eu.Avatar,{className:"h-10 w-10",children:[(0,u.jsx)(eu.AvatarImage,{src:e.profiles?.avatar_url||""}),(0,u.jsx)(eu.AvatarFallback,{children:e.profiles?.username?.charAt(0).toUpperCase()||"U"})]}),(0,u.jsx)("div",{className:`absolute bottom-0 right-0 h-3 w-3 rounded-full border-2 border-white dark:border-gray-900 ${e.profiles?.status==="online"?"bg-green-500":e.profiles?.status==="away"?"bg-yellow-500":"bg-gray-400"}`})]}),(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsxs)("p",{className:"font-medium truncate",children:[e.profiles?.full_name||e.profiles?.username||"Foydalanuvchi",e.user_id===t&&(0,u.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(siz)"})]}),(0,u.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:["@",e.profiles?.username||"user"]})]}),"member"!==e.role&&(0,u.jsx)(ic,{variant:"outline",className:"text-xs",children:"admin"===e.role?"Admin":"Moderator"})]},e.id))})}),(0,u.jsx)("div",{className:"absolute bottom-4 left-4 right-4",children:(0,u.jsxs)(v.Button,{variant:"destructive",className:"w-full",onClick:o,children:[(0,u.jsx)(nl.LogOut,{className:"h-4 w-4 mr-2"}),"Xonadan chiqish"]})})]})]})]})]})}function ih({roomId:e,currentUsername:t}){let{typingUsers:n}=g(e),r=n.filter(e=>e!==t);if(0===r.length)return null;let a="";return a=1===r.length?`${r[0]} yozmoqda...`:2===r.length?`${r[0]} va ${r[1]} yozmoqda...`:`${r.length} kishi yozmoqda...`,(0,u.jsxs)("div",{className:"px-4 py-2 text-sm text-gray-500 flex items-center gap-2",children:[(0,u.jsxs)("div",{className:"flex gap-1",children:[(0,u.jsx)("span",{className:"h-2 w-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,u.jsx)("span",{className:"h-2 w-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,u.jsx)("span",{className:"h-2 w-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),(0,u.jsx)("span",{children:a})]})}let im=(0,na.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);function ip(){let[e,t]=(0,d.useState)(null),[n,r]=(0,d.useState)(!1),[a,i]=(0,d.useState)(null),{rooms:o}=m(),{profile:s,updateStatus:l}=p(),c=(0,f.createClient)();(0,d.useEffect)(()=>{(async()=>{let{data:{user:e}}=await c.auth.getUser();e&&(i(e.id),l("online"))})();let e=()=>{l("offline")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e),l("offline")}},[c,l]),(0,d.useEffect)(()=>{o.length>0&&!e&&t(o[0].id)},[o,e]);let h=o.find(t=>t.id===e)||null;return a?(0,u.jsxs)("div",{className:"h-screen flex bg-gray-100 dark:bg-gray-950",children:[(0,u.jsx)(v.Button,{variant:"ghost",size:"icon",className:"fixed top-3 left-3 z-50 md:hidden",onClick:()=>r(!n),children:n?(0,u.jsx)(n7.X,{className:"h-6 w-6"}):(0,u.jsx)(im,{className:"h-6 w-6"})}),n&&(0,u.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>r(!1)}),(0,u.jsx)("div",{className:`fixed md:static inset-y-0 left-0 z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:(0,u.jsx)(nd,{selectedRoom:e,onSelectRoom:e=>{t(e),r(!1)}})}),(0,u.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,u.jsx)(id,{room:h,currentUserId:a}),e?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n4,{roomId:e,currentUserId:a}),(0,u.jsx)(ih,{roomId:e,currentUsername:s?.username||""}),(0,u.jsx)(a9,{roomId:e,username:s?.username||""})]}):(0,u.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("p",{className:"text-2xl mb-2",children:""}),(0,u.jsx)("p",{className:"text-lg font-medium",children:"Xush kelibsiz!"}),(0,u.jsx)("p",{className:"text-sm",children:"Suhbatni boshlash uchun chap tomondagi xonalardan birini tanlang"})]})})]})]}):(0,u.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,u.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-indigo-600 border-t-transparent rounded-full"})})}e.s(["default",()=>ip],41222)}]);
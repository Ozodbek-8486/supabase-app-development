module.exports=[60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(35025);var d=a.i(9701),e=a.i(40695),f=a.i(5522),g=a.i(3130),h=a.i(7706),i=a.i(92759),j=a.i(70106);let k=(0,j.default)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);var l=a.i(96221),m=a.i(21161),n=a.i(33508);let o=(0,j.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),p=(0,j.default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),q=(0,j.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),r=(0,j.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),s=(0,j.default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),t=(0,j.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),u=(0,j.default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var v=a.i(20005);let w=(0,j.default)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),x="https://kmdphhqcfbxwbnttnmqc.supabase.co",y="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImttZHBoaHFjZmJ4d2JudHRubXFjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0MDAyMzcsImV4cCI6MjA3OTk3NjIzN30.4C6Rr8CFIv07blppHco_Of26SmV7k1yrahPSIYaGQO8";function z(){let[a,j]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(null),[P,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)(null),[V,W]=(0,c.useState)(""),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)(!1),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(!1),[ad,ae]=(0,c.useState)(""),[af,ag]=(0,c.useState)(""),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)("Ozodbek-2008"),[al,am]=(0,c.useState)(1),[an,ao]=(0,c.useState)(null),[ap,aq]=(0,c.useState)(null),[ar,as]=(0,c.useState)(null),at=(0,c.useRef)(null),au=(0,c.useRef)(null),av=(0,c.useRef)();(0,c.useEffect)(()=>{let a=localStorage.getItem("supabase_anon_key");a?(O((0,d.createBrowserClient)(x,a)),Q(!1)):Q(!0),"true"===localStorage.getItem("chat_is_admin")&&Y(!0);let b=localStorage.getItem("chat_admin_password");b&&ak(b)},[]),(0,c.useEffect)(()=>{let a=localStorage.getItem("chat_username");if(!a){let b,c,d,e,f;c=["Sherlar","Burgut","Tulki","Bori","Lochin","Qoplon","Arslon","Laylak"],d=(b=["Tez","Aqlli","Kuchli","Baxtli","Oltin","Kumush","Yashil","Kok"])[Math.floor(Math.random()*b.length)],e=c[Math.floor(Math.random()*c.length)],f=Math.floor(100*Math.random()),a=`${d}${e}${f}`,localStorage.setItem("chat_username",a)}j(a),K(a);let b=localStorage.getItem("chat_avatar")||"";A(b),M(b)},[]),(0,c.useEffect)(()=>{if(!a||!N)return;(async()=>{try{let{data:a,error:b}=await N.from("chat_messages").select("*").order("created_at",{ascending:!0});if(b){console.error("Yuklashda xatolik:",JSON.stringify(b,null,2)),ax("Yuklashda xatolik","error");return}a&&C(a)}catch(a){console.error("Xatolik:",a)}})();let b=N.channel("chat-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},a=>{let b=a.new;C(a=>a.find(a=>a.id===b.id)?a:[...a,b])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages"},a=>{let b=a.new;C(a=>a.map(a=>a.id===b.id?b:a))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"chat_messages"},a=>{let b=a.old;C(a=>a.filter(a=>a.id!==b.id))}).subscribe();return()=>{N.removeChannel(b)}},[a,N]),(0,c.useEffect)(()=>{at.current&&(at.current.scrollTop=at.current.scrollHeight),am(new Set(B.map(a=>a.username)).size)},[B]);let aw=async b=>{if(b.preventDefault(),D.trim()&&!F&&N){G(!0);try{let{error:b}=await N.from("chat_messages").insert({username:a,content:D.trim(),avatar_url:z});b?(console.error("Yuborishda xatolik:",JSON.stringify(b,null,2)),ax("Yuborishda xatolik","error")):E("")}catch(a){console.error("Xatolik:",a)}finally{G(!1)}}},ax=(a,b="success")=>{void 0!==av.current&&clearTimeout(av.current),ao({message:a,type:b}),av.current=setTimeout(()=>ao(null),2500)},ay=async a=>{if(V.trim()&&N)try{await N.from("chat_messages").update({content:V.trim()}).eq("id",a),U(null),W(""),ax("Xabar tahrirlandi","success")}catch(a){console.error("Tahrirlashda xatolik:",a),ax("Tahrirlashda xatolik","error")}},az=async a=>{as(a)},aA=async a=>{if(!N)return void ax("Supabase ulanmadi","error");try{let{error:b}=await N.from("chat_messages").delete().eq("id",a);b?(console.error("O'chirishda xatolik:",b),ax("O'chirishda xatolik","error")):(ax("Xabar o'chirildi","success"),as(null))}catch(a){console.error("O'chirishda xatolik:",a),ax("O'chirishda xatolik","error")}},aB=a=>{let b=["bg-rose-500","bg-sky-500","bg-emerald-500","bg-amber-500","bg-violet-500","bg-pink-500","bg-indigo-500","bg-teal-500"];return b[a.charCodeAt(0)%b.length]};return P||!N?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-slate-50 to-indigo-100",children:(0,b.jsxs)(g.Card,{className:"w-full max-w-md p-6",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)(k,{className:"w-12 h-12 mx-auto mb-3 text-indigo-600"}),(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Supabase Anon Key"}),(0,b.jsx)("p",{className:"text-sm mt-2 text-slate-500",children:"Quyidagi keyni nusxalab inputga tashlang"})]}),(0,b.jsx)("div",{className:"mb-6 p-3 bg-slate-100 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2 min-h-12",children:[(0,b.jsxs)("code",{className:"text-xs text-slate-600 flex-1 overflow-auto max-h-16 font-mono",children:[y.substring(0,40),"...***"]}),(0,b.jsx)("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(y),ax("Nusxalandi","success")},className:"shrink-0 p-2 hover:bg-slate-200 rounded-lg transition-colors ml-2",title:"Nusxalash",children:(0,b.jsx)(r,{className:"w-4 h-4 text-slate-600"})})]})}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),R&&(localStorage.setItem("supabase_anon_key",R),O((0,d.createBrowserClient)(x,R)),Q(!1))},children:[(0,b.jsx)(f.Input,{value:R,onChange:a=>S(a.target.value),placeholder:"Tepadagi keyni nusxalang va buyerga tashlang...",className:"mb-4"}),(0,b.jsx)(e.Button,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700",children:"Saqlash va boshlash"})]})]})}):a?(0,b.jsxs)("div",{className:"h-screen flex flex-col bg-black overflow-hidden",children:[(0,b.jsx)("header",{className:"bg-slate-900/90 backdrop-blur-sm shadow-sm p-3 sm:p-4 shrink-0 relative z-60",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-xl bg-indigo-100",children:(0,b.jsx)(k,{className:"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600"})}),(0,b.jsx)("h1",{className:"text-lg sm:text-xl font-bold text-white",children:"Muhokama"}),(0,b.jsxs)("span",{className:"bg-green-500/20 text-green-400 text-xs px-2 py-1 rounded-full font-medium flex items-center gap-1",children:["ðŸŸ¢ ",al," onlayn"]}),X&&(0,b.jsxs)("span",{className:"bg-amber-100 text-amber-700 text-xs px-2 py-0.5 rounded-full font-medium flex items-center gap-1",children:[(0,b.jsx)(s,{className:"w-3 h-3"})," Admin"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("button",{onClick:()=>X?aa(!_):$(!0),className:`p-2 rounded-xl transition-colors ${X?"bg-amber-100 hover:bg-amber-200 text-amber-600":"hover:bg-slate-100 text-slate-400 hover:text-slate-600"}`,title:X?"Admin menyu":"Admin kirish",children:(0,b.jsx)(s,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),_&&X&&(0,b.jsxs)("div",{className:"absolute right-0 top-12 bg-white shadow-xl rounded-xl py-2 z-100 min-w-[180px] border border-slate-200",children:[(0,b.jsxs)("button",{onClick:()=>{ac(!0),aa(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-slate-50 flex items-center gap-2 text-slate-700",children:[(0,b.jsx)(w,{className:"w-4 h-4"})," Parolni almashtirish"]}),(0,b.jsxs)("button",{onClick:()=>{Y(!1),localStorage.removeItem("chat_is_admin"),aa(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-rose-50 flex items-center gap-2 text-rose-600",children:[(0,b.jsx)(v.LogOut,{className:"w-4 h-4"})," Adminlikdan chiqish"]})]})]}),(0,b.jsxs)("button",{onClick:()=>I(!0),className:"flex items-center gap-1 sm:gap-2 hover:bg-slate-100 rounded-xl p-1.5 sm:p-2 transition-colors",children:[(0,b.jsxs)(h.Avatar,{className:"h-7 w-7 sm:h-8 sm:w-8 ring-2 ring-indigo-500 ring-offset-1",children:[z?(0,b.jsx)(h.AvatarImage,{src:z}):null,(0,b.jsx)(h.AvatarFallback,{className:`${aB(a)} text-white text-xs sm:text-sm font-medium`,children:a.charAt(0).toUpperCase()})]}),(0,b.jsx)("span",{className:"font-medium text-xs sm:text-sm text-slate-700 hidden sm:block",children:a}),(0,b.jsx)(m.Settings,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-slate-400"})]})]})]})}),Z&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:()=>$(!1),children:(0,b.jsxs)(g.Card,{className:"w-full max-w-sm p-4 sm:p-6 relative bg-white",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("button",{onClick:()=>$(!1),className:"absolute top-3 right-3 p-1 rounded-lg hover:bg-slate-100 text-slate-500",children:(0,b.jsx)(n.X,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsx)(s,{className:"w-12 h-12 mx-auto mb-2 text-amber-500"}),(0,b.jsx)("h2",{className:"text-lg font-bold text-slate-800",children:"Admin kirish"})]}),(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)(f.Input,{type:ah?"text":"password",value:ad,onChange:a=>ae(a.target.value),placeholder:"Admin paroli",className:"pr-10"}),(0,b.jsx)("button",{type:"button",onClick:()=>ai(!ah),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:ah?(0,b.jsx)(u,{className:"w-4 h-4"}):(0,b.jsx)(t,{className:"w-4 h-4"})})]}),(0,b.jsx)(e.Button,{onClick:()=>{ad===aj?(Y(!0),localStorage.setItem("chat_is_admin","true"),$(!1),ae(""),ai(!1),ax("Admin logindan kirildi","success")):ax("Parol noto'g'ri","error")},className:"w-full bg-amber-500 hover:bg-amber-600",children:"Kirish"})]})}),ab&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:()=>ac(!1),children:(0,b.jsxs)(g.Card,{className:"w-full max-w-sm p-4 sm:p-6 relative bg-white",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("button",{onClick:()=>ac(!1),className:"absolute top-3 right-3 p-1 rounded-lg hover:bg-slate-100 text-slate-500",children:(0,b.jsx)(n.X,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsx)(w,{className:"w-12 h-12 mx-auto mb-2 text-indigo-500"}),(0,b.jsx)("h2",{className:"text-lg font-bold text-slate-800",children:"Parolni almashtirish"})]}),(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)(f.Input,{type:ah?"text":"password",value:af,onChange:a=>ag(a.target.value),placeholder:"Yangi parol",className:"pr-10"}),(0,b.jsx)("button",{type:"button",onClick:()=>ai(!ah),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:ah?(0,b.jsx)(u,{className:"w-4 h-4"}):(0,b.jsx)(t,{className:"w-4 h-4"})})]}),(0,b.jsx)(e.Button,{onClick:()=>{af.length<4?ax("Parol kamida 4 ta belgi bo'lishi kerak","error"):(ak(af),localStorage.setItem("chat_admin_password",af),ag(""),ac(!1),ai(!1),ax("Parol muvaffaqiyatli o'zgartirildi","success"))},className:"w-full bg-indigo-600 hover:bg-indigo-700",children:"Saqlash"})]})}),H&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:()=>I(!1),children:(0,b.jsxs)(g.Card,{className:"w-full max-w-md p-4 sm:p-6 relative bg-white",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("button",{onClick:()=>I(!1),className:"absolute top-3 right-3 sm:top-4 sm:right-4 p-1 rounded-lg hover:bg-slate-100 text-slate-500",children:(0,b.jsx)(n.X,{className:"w-5 h-5"})}),(0,b.jsx)("h2",{className:"text-lg sm:text-xl font-bold mb-4 sm:mb-6 text-center text-slate-800",children:"Profil sozlamalari"}),(0,b.jsxs)("div",{className:"flex flex-col items-center mb-4 sm:mb-6",children:[(0,b.jsxs)(h.Avatar,{className:"h-20 w-20 sm:h-24 sm:w-24 ring-4 ring-indigo-500 ring-offset-2 mb-3",children:[L?(0,b.jsx)(h.AvatarImage,{src:L}):null,(0,b.jsx)(h.AvatarFallback,{className:`${aB(J||a)} text-white text-2xl font-bold`,children:(J||a).charAt(0).toUpperCase()})]}),(0,b.jsx)("input",{ref:au,type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(!b)return;let c=new FileReader;c.onloadend=()=>{M(c.result)},c.readAsDataURL(b)},className:"hidden"}),(0,b.jsxs)(e.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>au.current?.click(),children:[(0,b.jsx)(o,{className:"w-4 h-4 mr-2"}),"Rasm yuklash"]})]}),(0,b.jsxs)("div",{className:"mb-3 sm:mb-4",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Ism"}),(0,b.jsx)(f.Input,{value:J,onChange:a=>K(a.target.value),placeholder:"Ismingiz",className:"mt-1"})]}),(0,b.jsxs)("div",{className:"mb-4 sm:mb-6",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Rasm URL (ixtiyoriy)"}),(0,b.jsx)(f.Input,{value:L,onChange:a=>M(a.target.value),placeholder:"https://example.com/avatar.jpg",className:"mt-1"})]}),(0,b.jsx)(e.Button,{onClick:()=>{J.trim()&&(j(J.trim()),localStorage.setItem("chat_username",J.trim())),L&&(A(L),localStorage.setItem("chat_avatar",L)),I(!1)},className:"w-full bg-indigo-600 hover:bg-indigo-700",children:"Saqlash"})]})}),ar&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:()=>as(null),children:(0,b.jsxs)(g.Card,{className:"w-full max-w-sm p-4 sm:p-6 relative bg-white",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("button",{onClick:()=>as(null),className:"absolute top-3 right-3 p-1 rounded-lg hover:bg-slate-100 text-slate-500",children:(0,b.jsx)(n.X,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsx)(q,{className:"w-12 h-12 mx-auto mb-2 text-red-500"}),(0,b.jsx)("h2",{className:"text-lg font-bold text-slate-800",children:"Xabarni o'chirish"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:"Bu amalni bekor qilish mumkin emas. Davom etmoqchimisiz?"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>as(null),className:"flex-1",children:"Bekor qilish"}),(0,b.jsxs)(e.Button,{onClick:()=>aA(ar),className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[(0,b.jsx)(q,{className:"w-4 h-4 mr-2"})," O'chirish"]})]})]})}),_&&(0,b.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>aa(!1)}),(0,b.jsx)("div",{className:"flex-1 min-h-0 overflow-hidden",children:(0,b.jsx)("div",{className:"h-full max-w-4xl w-full mx-auto p-2 sm:p-4 flex flex-col",children:(0,b.jsxs)(g.Card,{className:"flex-1 min-h-0 flex flex-col overflow-hidden bg-slate-800/80 backdrop-blur-sm",children:[(0,b.jsx)("div",{className:"flex-1 min-h-0 overflow-y-auto p-3 sm:p-4",ref:at,children:0===B.length?(0,b.jsx)("div",{className:"h-full flex items-center justify-center text-slate-500",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-2xl mx-auto mb-3 flex items-center justify-center bg-slate-100",children:(0,b.jsx)(k,{className:"w-7 h-7 sm:w-8 sm:h-8 opacity-50"})}),(0,b.jsx)("p",{className:"text-sm sm:text-base font-medium",children:"Hali xabarlar yoq"}),(0,b.jsx)("p",{className:"text-xs sm:text-sm opacity-70",children:"Birinchi bolib xabar yozing!"})]})}):(0,b.jsx)("div",{className:"space-y-3 sm:space-y-4",children:B.map(c=>{let d,g,j,k,l,m,o=c.username===a,s=T===c.id,t=c.username===a||X;return(0,b.jsxs)("div",{className:`flex gap-2 sm:gap-3 ${o?"flex-row-reverse":""}`,children:[(0,b.jsxs)(h.Avatar,{className:"h-8 w-8 sm:h-9 sm:w-9 shrink-0",children:[o&&z&&(0,b.jsx)(h.AvatarImage,{src:z,alt:a}),!o&&c.avatar_url&&(0,b.jsx)(h.AvatarImage,{src:c.avatar_url,alt:c.username}),(0,b.jsx)(h.AvatarFallback,{className:`${aB(c.username)} text-white text-xs sm:text-sm font-medium`,children:c.username.charAt(0).toUpperCase()})]}),(0,b.jsxs)("div",{className:`max-w-[75%] sm:max-w-[70%] ${o?"text-right":""}`,children:[(0,b.jsxs)("div",{className:`flex items-center gap-1 sm:gap-2 mb-1 ${o?"flex-row-reverse":""}`,children:[(0,b.jsx)("span",{className:"text-xs sm:text-sm font-semibold text-white",children:c.username}),(0,b.jsx)("span",{className:"text-[10px] sm:text-xs text-gray-400",children:(d=new Date(c.created_at),g=new Date,j=d.toDateString()===g.toDateString(),(k=new Date(g)).setDate(k.getDate()-1),l=d.toDateString()===k.toDateString(),m=d.toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"}),j?`Bugun, ${m}`:l?`Kecha, ${m}`:`${d.toLocaleDateString("uz-UZ",{day:"numeric",month:"short",year:"numeric"})}, ${m}`)})]}),s?(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Input,{value:V,onChange:a=>W(a.target.value),className:"text-sm",autoFocus:!0}),(0,b.jsx)(e.Button,{size:"sm",onClick:()=>ay(c.id),children:(0,b.jsx)(i.Send,{className:"w-3 h-3"})}),(0,b.jsx)(e.Button,{size:"sm",variant:"ghost",onClick:()=>U(null),children:(0,b.jsx)(n.X,{className:"w-3 h-3"})})]}):(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("div",{className:`inline-block rounded-2xl px-3 py-2 sm:px-4 sm:py-2.5 ${o?"bg-indigo-600 text-white rounded-tr-sm":"bg-slate-700 text-white rounded-tl-sm shadow-sm border border-slate-600"}`,children:(0,b.jsx)("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:c.content})}),(0,b.jsxs)("div",{className:`flex gap-1 mt-1 opacity-0 group-hover:opacity-100 transition-opacity ${o?"justify-end":"justify-start"}`,children:[(0,b.jsx)("button",{onClick:()=>{var a,b;return a=c.id,b=c.content,void navigator.clipboard.writeText(b).then(()=>{aq(a),ax("Nusxalandi","success"),setTimeout(()=>aq(null),2e3)}).catch(()=>{ax("Nusxalashda xatolik","error")})},className:`p-1.5 rounded-lg transition-colors ${ap===c.id?"bg-green-100 text-green-600":"text-slate-400 hover:bg-slate-100 hover:text-slate-600"}`,title:"Nusxalash",children:ap===c.id?"âœ“":(0,b.jsx)(r,{className:"w-3.5 h-3.5"})}),t&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>{U(c.id),W(c.content)},className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-blue-600 transition-colors",title:"Tahrirlash",children:(0,b.jsx)(p,{className:"w-3.5 h-3.5"})}),(0,b.jsx)("button",{onClick:()=>az(c.id),className:"p-1.5 hover:bg-rose-50 rounded-lg text-slate-400 hover:text-rose-600 transition-colors",title:"O'chirish",children:(0,b.jsx)(q,{className:"w-3.5 h-3.5"})})]})]})]})]})]},c.id)})})}),(0,b.jsx)("div",{className:"p-3 sm:p-4 shrink-0 bg-slate-800 border-t border-slate-700",children:(0,b.jsxs)("form",{onSubmit:aw,className:"flex gap-2",children:[(0,b.jsx)(f.Input,{placeholder:"Xabar yozing...",value:D,onChange:a=>E(a.target.value),disabled:F,className:"flex-1 text-sm h-11 bg-slate-700 text-white border-slate-600 focus:border-indigo-500 focus:ring-indigo-500",autoFocus:!0}),(0,b.jsx)(e.Button,{type:"submit",disabled:!D.trim()||F,className:"px-4 sm:px-5 h-11 bg-indigo-600 hover:bg-indigo-700 text-white",children:F?(0,b.jsx)(l.Loader2,{className:"h-4 w-4 sm:h-5 sm:w-5 animate-spin"}):(0,b.jsx)(i.Send,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})})]})})}),an&&(0,b.jsxs)("div",{className:`fixed bottom-4 left-4 right-4 sm:bottom-6 sm:right-6 sm:left-auto sm:w-auto max-w-xs px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50 animate-in fade-in slide-in-from-bottom-4 ${"success"===an.type?"bg-green-500 text-white":"error"===an.type?"bg-red-500 text-white":"bg-blue-500 text-white"}`,children:["success"===an.type&&"âœ“ ","error"===an.type&&"âœ• ",an.message]})]}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,b.jsx)(l.Loader2,{className:"h-8 w-8 animate-spin text-indigo-600"})})}a.s(["default",()=>z],60350)}];

//# sourceMappingURL=app_page_tsx_55b2e5ee._.js.map